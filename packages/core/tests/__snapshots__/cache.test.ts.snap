// Rstest Snapshot v1

exports[`plugin-cache > should add cache config correctly 1`] = `
{
  "cache": true,
  "experiments": {
    "cache": {
      "buildDependencies": [
        "<ROOT>/packages/core/tests/tsconfig.json",
      ],
      "storage": {
        "directory": "<ROOT>/packages/core/tests/node_modules/.cache/rspack",
        "type": "filesystem",
      },
      "type": "persistent",
      "version": "web-test",
    },
  },
  "plugins": [
    {
      "name": "RsbuildCorePlugin",
    },
  ],
}
`;

exports[`plugin-cache > should apply cacheDigest 1`] = `
{
  "cache": true,
  "experiments": {
    "cache": {
      "buildDependencies": [
        "<ROOT>/packages/core/tests/tsconfig.json",
      ],
      "storage": {
        "directory": "<ROOT>/packages/core/tests/node_modules/.cache/rspack",
        "type": "filesystem",
      },
      "type": "persistent",
      "version": "web-test-fa1844c2988ad15a",
    },
  },
  "plugins": [
    {
      "name": "RsbuildCorePlugin",
    },
  ],
}
`;

exports[`plugin-cache > should custom cache directory by user 1`] = `
{
  "cache": true,
  "experiments": {
    "cache": {
      "buildDependencies": [
        "<ROOT>/packages/core/tests/tsconfig.json",
      ],
      "storage": {
        "directory": "<ROOT>/packages/core/tests/node_modules/.cache/tmp",
        "type": "filesystem",
      },
      "type": "persistent",
      "version": "web-test",
    },
  },
  "plugins": [
    {
      "name": "RsbuildCorePlugin",
    },
  ],
}
`;

exports[`plugin-cache > should disable cache 1`] = `
{
  "plugins": [
    {
      "name": "RsbuildCorePlugin",
    },
  ],
}
`;

exports[`plugin-cache > should not apply cacheDigest 1`] = `
{
  "cache": true,
  "experiments": {
    "cache": {
      "buildDependencies": [
        "<ROOT>/packages/core/tests/tsconfig.json",
      ],
      "storage": {
        "directory": "<ROOT>/packages/core/tests/node_modules/.cache/rspack",
        "type": "filesystem",
      },
      "type": "persistent",
      "version": "web-test",
    },
  },
  "plugins": [
    {
      "name": "RsbuildCorePlugin",
    },
  ],
}
`;

exports[`plugin-cache > should watch tsconfig change 1`] = `
{
  "cache": true,
  "experiments": {
    "cache": {
      "buildDependencies": [
        "<ROOT>/packages/core/tests/tsconfig.json",
      ],
      "storage": {
        "directory": "<ROOT>/packages/core/tests/node_modules/.cache/rspack",
        "type": "filesystem",
      },
      "type": "persistent",
      "version": "web-test",
    },
  },
  "plugins": [
    {
      "name": "RsbuildCorePlugin",
    },
  ],
}
`;
