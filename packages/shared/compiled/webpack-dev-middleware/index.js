(()=>{"use strict";var e={2261:e=>{
/*!
 * ee-first
 * Copyright(c) 2014 Jonathan Ong
 * MIT Licensed
 */
e.exports=first;function first(e,t){if(!Array.isArray(e))throw new TypeError("arg must be an array of [ee, events...] arrays");var s=[];for(var n=0;n<e.length;n++){var i=e[n];if(!Array.isArray(i)||i.length<2)throw new TypeError("each array member must be [ee, events...]");var r=i[0];for(var o=1;o<i.length;o++){var a=i[o];var c=listener(a,callback);r.on(a,c);s.push({ee:r,event:a,fn:c})}}function callback(){cleanup();t.apply(null,arguments)}function cleanup(){var e;for(var t=0;t<s.length;t++){e=s[t];e.ee.removeListener(e.event,e.fn)}}function thunk(e){t=e}thunk.cancel=cleanup;return thunk}function listener(e,t){return function onevent(s){var n=new Array(arguments.length);var i=this;var r=e==="error"?s:null;for(var o=0;o<n.length;o++){n[o]=arguments[o]}t(r,i,e,n)}}},3353:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.Dirent=void 0;const n=s(6929);const i=s(7669);const{S_IFMT:r,S_IFDIR:o,S_IFREG:a,S_IFBLK:c,S_IFCHR:l,S_IFLNK:f,S_IFIFO:h,S_IFSOCK:d}=n.constants;class Dirent{constructor(){this.name="";this.path="";this.mode=0}static build(e,t){const s=new Dirent;const{mode:n}=e.getNode();s.name=(0,i.strToEncoding)(e.getName(),t);s.mode=n;s.path=e.getPath();return s}_checkModeProperty(e){return(this.mode&r)===e}isDirectory(){return this._checkModeProperty(o)}isFile(){return this._checkModeProperty(a)}isBlockDevice(){return this._checkModeProperty(c)}isCharacterDevice(){return this._checkModeProperty(l)}isSymbolicLink(){return this._checkModeProperty(f)}isFIFO(){return this._checkModeProperty(h)}isSocket(){return this._checkModeProperty(d)}}t.Dirent=Dirent;t["default"]=Dirent},5161:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.Stats=void 0;const n=s(6929);const{S_IFMT:i,S_IFDIR:r,S_IFREG:o,S_IFBLK:a,S_IFCHR:c,S_IFLNK:l,S_IFIFO:f,S_IFSOCK:h}=n.constants;class Stats{static build(e,t=false){const s=new Stats;const{uid:n,gid:i,atime:r,mtime:o,ctime:a}=e;const c=!t?e=>e:e=>BigInt(e);s.uid=c(n);s.gid=c(i);s.rdev=c(0);s.blksize=c(4096);s.ino=c(e.ino);s.size=c(e.getSize());s.blocks=c(1);s.atime=r;s.mtime=o;s.ctime=a;s.birthtime=a;s.atimeMs=c(r.getTime());s.mtimeMs=c(o.getTime());const l=c(a.getTime());s.ctimeMs=l;s.birthtimeMs=l;if(t){s.atimeNs=BigInt(r.getTime())*BigInt(1e6);s.mtimeNs=BigInt(o.getTime())*BigInt(1e6);const e=BigInt(a.getTime())*BigInt(1e6);s.ctimeNs=e;s.birthtimeNs=e}s.dev=c(0);s.mode=c(e.mode);s.nlink=c(e.nlink);return s}_checkModeProperty(e){return(Number(this.mode)&i)===e}isDirectory(){return this._checkModeProperty(r)}isFile(){return this._checkModeProperty(o)}isBlockDevice(){return this._checkModeProperty(a)}isCharacterDevice(){return this._checkModeProperty(c)}isSymbolicLink(){return this._checkModeProperty(l)}isFIFO(){return this._checkModeProperty(f)}isSocket(){return this._checkModeProperty(h)}}t.Stats=Stats;t["default"]=Stats},6929:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.constants=void 0;t.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_SYMLINK:2097152,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4}},7669:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.strToEncoding=t.assertEncoding=t.ENCODING_UTF8=void 0;const n=s(9760);const i=s(4545);t.ENCODING_UTF8="utf8";function assertEncoding(e){if(e&&!n.Buffer.isEncoding(e))throw new i.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",e)}t.assertEncoding=assertEncoding;function strToEncoding(e,s){if(!s||s===t.ENCODING_UTF8)return e;if(s==="buffer")return new n.Buffer(e);return new n.Buffer(e).toString(s)}t.strToEncoding=strToEncoding},4465:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.memfs=t.fs=t.createFsFromVolume=t.vol=t.Volume=void 0;const n=s(5161);const i=s(3353);const r=s(9395);const o=s(6929);const a=s(1390);const c=s(5501);const{F_OK:l,R_OK:f,W_OK:h,X_OK:d}=o.constants;t.Volume=r.Volume;t.vol=new r.Volume;function createFsFromVolume(e){const t={F_OK:l,R_OK:f,W_OK:h,X_OK:d,constants:o.constants,Stats:n.default,Dirent:i.default};for(const s of a.fsSynchronousApiList)if(typeof e[s]==="function")t[s]=e[s].bind(e);for(const s of c.fsCallbackApiList)if(typeof e[s]==="function")t[s]=e[s].bind(e);t.StatWatcher=e.StatWatcher;t.FSWatcher=e.FSWatcher;t.WriteStream=e.WriteStream;t.ReadStream=e.ReadStream;t.promises=e.promises;t._toUnixTimestamp=r.toUnixTimestamp;t.__vol=e;return t}t.createFsFromVolume=createFsFromVolume;t.fs=createFsFromVolume(t.vol);const memfs=(e={},s="/")=>{const n=t.Volume.fromNestedJSON(e,s);const i=createFsFromVolume(n);return{fs:i,vol:n}};t.memfs=memfs;e.exports=Object.assign(Object.assign({},e.exports),t.fs);e.exports.semantic=true},9760:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.bufferFrom=t.bufferAllocUnsafe=t.Buffer=void 0;const n=s(4300);Object.defineProperty(t,"Buffer",{enumerable:true,get:function(){return n.Buffer}});function bufferV0P12Ponyfill(e,...t){return new n.Buffer(e,...t)}const i=n.Buffer.allocUnsafe||bufferV0P12Ponyfill;t.bufferAllocUnsafe=i;const r=n.Buffer.from||bufferV0P12Ponyfill;t.bufferFrom=r},4545:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.E=t.AssertionError=t.message=t.RangeError=t.TypeError=t.Error=void 0;const n=s(9491);const i=s(3837);const r=typeof Symbol==="undefined"?"_kCode":Symbol("code");const o={};function makeNodeError(e){return class NodeError extends e{constructor(e,...t){super(message(e,t));this.code=e;this[r]=e;this.name=`${super.name} [${this[r]}]`}}}const a=typeof globalThis!=="undefined"?globalThis:global;class AssertionError extends a.Error{constructor(e){if(typeof e!=="object"||e===null){throw new t.TypeError("ERR_INVALID_ARG_TYPE","options","object")}if(e.message){super(e.message)}else{super(`${i.inspect(e.actual).slice(0,128)} `+`${e.operator} ${i.inspect(e.expected).slice(0,128)}`)}this.generatedMessage=!e.message;this.name="AssertionError [ERR_ASSERTION]";this.code="ERR_ASSERTION";this.actual=e.actual;this.expected=e.expected;this.operator=e.operator;t.Error.captureStackTrace(this,e.stackStartFunction)}}t.AssertionError=AssertionError;function message(e,t){n.strictEqual(typeof e,"string");const s=o[e];n(s,`An invalid error message key was used: ${e}.`);let r;if(typeof s==="function"){r=s}else{r=i.format;if(t===undefined||t.length===0)return s;t.unshift(s)}return String(r.apply(null,t))}t.message=message;function E(e,t){o[e]=typeof t==="function"?t:String(t)}t.E=E;t.Error=makeNodeError(a.Error);t.TypeError=makeNodeError(a.TypeError);t.RangeError=makeNodeError(a.RangeError);E("ERR_ARG_NOT_ITERABLE","%s must be iterable");E("ERR_ASSERTION","%s");E("ERR_BUFFER_OUT_OF_BOUNDS",bufferOutOfBounds);E("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received");E("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s");E("ERR_CPU_USAGE","Unable to obtain cpu usage %s");E("ERR_DNS_SET_SERVERS_FAILED",((e,t)=>`c-ares failed to set servers: "${e}" [${t}]`));E("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value");E("ERR_ENCODING_NOT_SUPPORTED",(e=>`The "${e}" encoding is not supported`));E("ERR_ENCODING_INVALID_ENCODED_DATA",(e=>`The encoded data was not valid for encoding ${e}`));E("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client");E("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s");E("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding");E("ERR_INDEX_OUT_OF_RANGE","Index out of range");E("ERR_INVALID_ARG_TYPE",invalidArgType);E("ERR_INVALID_ARRAY_LENGTH",((e,t,s)=>{n.strictEqual(typeof s,"number");return`The array "${e}" (length ${s}) must be of length ${t}.`}));E("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s");E("ERR_INVALID_CALLBACK","Callback must be a function");E("ERR_INVALID_CHAR","Invalid character in %s");E("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column");E("ERR_INVALID_FD",'"fd" must be a positive integer: %s');E("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s');E("ERR_INVALID_FILE_URL_PATH","File URL path %s");E("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent");E("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s");E("ERR_INVALID_OPT_VALUE",((e,t)=>`The value "${String(t)}" is invalid for option "${e}"`));E("ERR_INVALID_OPT_VALUE_ENCODING",(e=>`The value "${String(e)}" is invalid for option "encoding"`));E("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL');E("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s");E("ERR_INVALID_THIS",'Value of "this" must be of type %s');E("ERR_INVALID_TUPLE","%s must be an iterable %s tuple");E("ERR_INVALID_URL","Invalid URL: %s");E("ERR_INVALID_URL_SCHEME",(e=>`The URL must be ${oneOf(e,"scheme")}`));E("ERR_IPC_CHANNEL_CLOSED","Channel closed");E("ERR_IPC_DISCONNECTED","IPC channel is already disconnected");E("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe");E("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks");E("ERR_MISSING_ARGS",missingArgs);E("ERR_MULTIPLE_CALLBACK","Callback called multiple times");E("ERR_NAPI_CONS_FUNCTION","Constructor must be a function");E("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object");E("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support");E("ERR_NO_LONGER_SUPPORTED","%s is no longer supported");E("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s");E("ERR_SOCKET_ALREADY_BOUND","Socket is already bound");E("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536");E("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6");E("ERR_SOCKET_CANNOT_SEND","Unable to send data");E("ERR_SOCKET_CLOSED","Socket is closed");E("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running");E("ERR_STDERR_CLOSE","process.stderr cannot be closed");E("ERR_STDOUT_CLOSE","process.stdout cannot be closed");E("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode");E("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s");E("ERR_TLS_DH_PARAM_SIZE",(e=>`DH parameter size ${e} is less than 2048`));E("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout");E("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate");E("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext');E("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected");E("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming");E("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0");E("ERR_UNKNOWN_ENCODING","Unknown encoding: %s");E("ERR_UNKNOWN_SIGNAL","Unknown signal: %s");E("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type");E("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type");E("ERR_V8BREAKITERATOR","Full ICU data not installed. "+"See https://github.com/nodejs/node/wiki/Intl");function invalidArgType(e,t,s){n(e,"name is required");let i;if(t.includes("not ")){i="must not be";t=t.split("not ")[1]}else{i="must be"}let r;if(Array.isArray(e)){const s=e.map((e=>`"${e}"`)).join(", ");r=`The ${s} arguments ${i} ${oneOf(t,"type")}`}else if(e.includes(" argument")){r=`The ${e} ${i} ${oneOf(t,"type")}`}else{const s=e.includes(".")?"property":"argument";r=`The "${e}" ${s} ${i} ${oneOf(t,"type")}`}if(arguments.length>=3){r+=`. Received type ${s!==null?typeof s:"null"}`}return r}function missingArgs(...e){n(e.length>0,"At least one arg needs to be specified");let t="The ";const s=e.length;e=e.map((e=>`"${e}"`));switch(s){case 1:t+=`${e[0]} argument`;break;case 2:t+=`${e[0]} and ${e[1]} arguments`;break;default:t+=e.slice(0,s-1).join(", ");t+=`, and ${e[s-1]} arguments`;break}return`${t} must be specified`}function oneOf(e,t){n(e,"expected is required");n(typeof t==="string","thing is required");if(Array.isArray(e)){const s=e.length;n(s>0,"At least one expected value needs to be specified");e=e.map((e=>String(e)));if(s>2){return`one of ${t} ${e.slice(0,s-1).join(", ")}, or `+e[s-1]}else if(s===2){return`one of ${t} ${e[0]} or ${e[1]}`}else{return`of ${t} ${e[0]}`}}else{return`of ${t} ${String(e)}`}}function bufferOutOfBounds(e,t){if(t){return"Attempt to write outside buffer bounds"}else{return`"${e}" is outside of buffer bounds`}}},5825:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.printTree=void 0;const printTree=(e="",t)=>{t=t.filter(Boolean);let s="";for(let n=0;n<t.length;n++){const i=n>=t.length-1;const r=t[n];if(!r)continue;const o=r(e+`${i?" ":"│"}  `);const a=o?i?"└─":"├─":"│ ";s+=`\n${e}${a} ${o}`}return s};t.printTree=printTree},9985:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.newNotAllowedError=t.newTypeMismatchError=t.newNotFoundError=t.assertCanWrite=t.assertName=t.basename=t.ctx=void 0;const ctx=(e={})=>Object.assign({separator:"/",syncHandleAllowed:false,mode:"read"},e);t.ctx=ctx;const basename=(e,t)=>{if(e[e.length-1]===t)e=e.slice(0,-1);const s=e.lastIndexOf(t);return s===-1?e:e.slice(s+1)};t.basename=basename;const s=/^(\.{1,2})$|^(.*([\/\\]).*)$/;const assertName=(e,t,n)=>{const i=!e||s.test(e);if(i)throw new TypeError(`Failed to execute '${t}' on '${n}': Name is not allowed.`)};t.assertName=assertName;const assertCanWrite=e=>{if(e!=="readwrite")throw new DOMException("The request is not allowed by the user agent or the platform in the current context.","NotAllowedError")};t.assertCanWrite=assertCanWrite;const newNotFoundError=()=>new DOMException("A requested file or directory could not be found at the time an operation was processed.","NotFoundError");t.newNotFoundError=newNotFoundError;const newTypeMismatchError=()=>new DOMException("The path supplied exists, but was not an entry of requested type.","TypeMismatchError");t.newTypeMismatchError=newTypeMismatchError;const newNotAllowedError=()=>new DOMException("Permission not granted.","NotAllowedError");t.newNotAllowedError=newNotAllowedError},1102:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.File=t.Link=t.Node=t.SEP=void 0;const n=s(9173);const i=s(9760);const r=s(6929);const o=s(2361);const a=s(5161);const{S_IFMT:c,S_IFDIR:l,S_IFREG:f,S_IFLNK:h,O_APPEND:d}=r.constants;const getuid=()=>{var e,t;return(t=(e=n.default.getuid)===null||e===void 0?void 0:e.call(n.default))!==null&&t!==void 0?t:0};const getgid=()=>{var e,t;return(t=(e=n.default.getgid)===null||e===void 0?void 0:e.call(n.default))!==null&&t!==void 0?t:0};t.SEP="/";class Node extends o.EventEmitter{constructor(e,t=438){super();this._uid=getuid();this._gid=getgid();this._atime=new Date;this._mtime=new Date;this._ctime=new Date;this._perm=438;this.mode=f;this._nlink=1;this._perm=t;this.mode|=t;this.ino=e}set ctime(e){this._ctime=e}get ctime(){return this._ctime}set uid(e){this._uid=e;this.ctime=new Date}get uid(){return this._uid}set gid(e){this._gid=e;this.ctime=new Date}get gid(){return this._gid}set atime(e){this._atime=e;this.ctime=new Date}get atime(){return this._atime}set mtime(e){this._mtime=e;this.ctime=new Date}get mtime(){return this._mtime}set perm(e){this._perm=e;this.ctime=new Date}get perm(){return this._perm}set nlink(e){this._nlink=e;this.ctime=new Date}get nlink(){return this._nlink}getString(e="utf8"){this.atime=new Date;return this.getBuffer().toString(e)}setString(e){this.buf=(0,i.bufferFrom)(e,"utf8");this.touch()}getBuffer(){this.atime=new Date;if(!this.buf)this.setBuffer((0,i.bufferAllocUnsafe)(0));return(0,i.bufferFrom)(this.buf)}setBuffer(e){this.buf=(0,i.bufferFrom)(e);this.touch()}getSize(){return this.buf?this.buf.length:0}setModeProperty(e){this.mode=this.mode&~c|e}setIsFile(){this.setModeProperty(f)}setIsDirectory(){this.setModeProperty(l)}setIsSymlink(){this.setModeProperty(h)}isFile(){return(this.mode&c)===f}isDirectory(){return(this.mode&c)===l}isSymlink(){return(this.mode&c)===h}makeSymlink(e){this.symlink=e;this.setIsSymlink()}write(e,t=0,s=e.length,n=0){if(!this.buf)this.buf=(0,i.bufferAllocUnsafe)(0);if(n+s>this.buf.length){const e=(0,i.bufferAllocUnsafe)(n+s);this.buf.copy(e,0,0,this.buf.length);this.buf=e}e.copy(this.buf,n,t,t+s);this.touch();return s}read(e,t=0,s=e.byteLength,n=0){this.atime=new Date;if(!this.buf)this.buf=(0,i.bufferAllocUnsafe)(0);let r=s;if(r>e.byteLength){r=e.byteLength}if(r+n>this.buf.length){r=this.buf.length-n}const o=e instanceof i.Buffer?e:i.Buffer.from(e.buffer);this.buf.copy(o,t,n,n+r);return r}truncate(e=0){if(!e)this.buf=(0,i.bufferAllocUnsafe)(0);else{if(!this.buf)this.buf=(0,i.bufferAllocUnsafe)(0);if(e<=this.buf.length){this.buf=this.buf.slice(0,e)}else{const t=(0,i.bufferAllocUnsafe)(e);this.buf.copy(t);t.fill(0,this.buf.length);this.buf=t}}this.touch()}chmod(e){this.perm=e;this.mode=this.mode&~511|e;this.touch()}chown(e,t){this.uid=e;this.gid=t;this.touch()}touch(){this.mtime=new Date;this.emit("change",this)}canRead(e=getuid(),t=getgid()){if(this.perm&4){return true}if(t===this.gid){if(this.perm&32){return true}}if(e===this.uid){if(this.perm&256){return true}}return false}canWrite(e=getuid(),t=getgid()){if(this.perm&2){return true}if(t===this.gid){if(this.perm&16){return true}}if(e===this.uid){if(this.perm&128){return true}}return false}del(){this.emit("delete",this)}toJSON(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}}}t.Node=Node;class Link extends o.EventEmitter{get steps(){return this._steps}set steps(e){this._steps=e;for(const[e,t]of this.children.entries()){if(e==="."||e===".."){continue}t===null||t===void 0?void 0:t.syncSteps()}}constructor(e,t,s){super();this.children=new Map;this._steps=[];this.ino=0;this.length=0;this.vol=e;this.parent=t;this.name=s;this.syncSteps()}setNode(e){this.node=e;this.ino=e.ino}getNode(){return this.node}createChild(e,t=this.vol.createNode()){const s=new Link(this.vol,this,e);s.setNode(t);if(t.isDirectory()){s.children.set(".",s);s.getNode().nlink++}this.setChild(e,s);return s}setChild(e,t=new Link(this.vol,this,e)){this.children.set(e,t);t.parent=this;this.length++;const s=t.getNode();if(s.isDirectory()){t.children.set("..",this);this.getNode().nlink++}this.getNode().mtime=new Date;this.emit("child:add",t,this);return t}deleteChild(e){const t=e.getNode();if(t.isDirectory()){e.children.delete("..");this.getNode().nlink--}this.children.delete(e.getName());this.length--;this.getNode().mtime=new Date;this.emit("child:delete",e,this)}getChild(e){this.getNode().mtime=new Date;return this.children.get(e)}getPath(){return this.steps.join(t.SEP)}getName(){return this.steps[this.steps.length-1]}walk(e,t=e.length,s=0){if(s>=e.length)return this;if(s>=t)return this;const n=e[s];const i=this.getChild(n);if(!i)return null;return i.walk(e,t,s+1)}toJSON(){return{steps:this.steps,ino:this.ino,children:Array.from(this.children.keys())}}syncSteps(){this.steps=this.parent?this.parent.steps.concat([this.name]):[this.name]}}t.Link=Link;class File{constructor(e,t,s,n){this.link=e;this.node=t;this.flags=s;this.fd=n;this.position=0;if(this.flags&d)this.position=this.getSize()}getString(e="utf8"){return this.node.getString()}setString(e){this.node.setString(e)}getBuffer(){return this.node.getBuffer()}setBuffer(e){this.node.setBuffer(e)}getSize(){return this.node.getSize()}truncate(e){this.node.truncate(e)}seekTo(e){this.position=e}stats(){return a.default.build(this.node)}write(e,t=0,s=e.length,n){if(typeof n!=="number")n=this.position;const i=this.node.write(e,t,s,n);this.position=n+i;return i}read(e,t=0,s=e.byteLength,n){if(typeof n!=="number")n=this.position;const i=this.node.read(e,t,s,n);this.position=n+i;return i}chmod(e){this.node.chmod(e)}chown(e,t){this.node.chown(e,t)}}t.File=File},4506:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.FileHandle=void 0;const n=s(4860);class FileHandle{constructor(e,t){this.fs=e;this.fd=t}appendFile(e,t){return(0,n.promisify)(this.fs,"appendFile")(this.fd,e,t)}chmod(e){return(0,n.promisify)(this.fs,"fchmod")(this.fd,e)}chown(e,t){return(0,n.promisify)(this.fs,"fchown")(this.fd,e,t)}close(){return(0,n.promisify)(this.fs,"close")(this.fd)}datasync(){return(0,n.promisify)(this.fs,"fdatasync")(this.fd)}read(e,t,s,i){return(0,n.promisify)(this.fs,"read",(t=>({bytesRead:t,buffer:e})))(this.fd,e,t,s,i)}readv(e,t){return(0,n.promisify)(this.fs,"readv",(t=>({bytesRead:t,buffers:e})))(this.fd,e,t)}readFile(e){return(0,n.promisify)(this.fs,"readFile")(this.fd,e)}stat(e){return(0,n.promisify)(this.fs,"fstat")(this.fd,e)}sync(){return(0,n.promisify)(this.fs,"fsync")(this.fd)}truncate(e){return(0,n.promisify)(this.fs,"ftruncate")(this.fd,e)}utimes(e,t){return(0,n.promisify)(this.fs,"futimes")(this.fd,e,t)}write(e,t,s,i){return(0,n.promisify)(this.fs,"write",(t=>({bytesWritten:t,buffer:e})))(this.fd,e,t,s,i)}writev(e,t){return(0,n.promisify)(this.fs,"writev",(t=>({bytesWritten:t,buffers:e})))(this.fd,e,t)}writeFile(e,t){return(0,n.promisify)(this.fs,"writeFile")(this.fd,e,t)}}t.FileHandle=FileHandle},1098:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.FsPromises=void 0;const n=s(4860);const i=s(6929);class FsPromises{constructor(e,t){this.fs=e;this.FileHandle=t;this.constants=i.constants;this.cp=(0,n.promisify)(this.fs,"cp");this.opendir=(0,n.promisify)(this.fs,"opendir");this.statfs=(0,n.promisify)(this.fs,"statfs");this.lutimes=(0,n.promisify)(this.fs,"lutimes");this.access=(0,n.promisify)(this.fs,"access");this.chmod=(0,n.promisify)(this.fs,"chmod");this.chown=(0,n.promisify)(this.fs,"chown");this.copyFile=(0,n.promisify)(this.fs,"copyFile");this.lchmod=(0,n.promisify)(this.fs,"lchmod");this.lchown=(0,n.promisify)(this.fs,"lchown");this.link=(0,n.promisify)(this.fs,"link");this.lstat=(0,n.promisify)(this.fs,"lstat");this.mkdir=(0,n.promisify)(this.fs,"mkdir");this.mkdtemp=(0,n.promisify)(this.fs,"mkdtemp");this.readdir=(0,n.promisify)(this.fs,"readdir");this.readlink=(0,n.promisify)(this.fs,"readlink");this.realpath=(0,n.promisify)(this.fs,"realpath");this.rename=(0,n.promisify)(this.fs,"rename");this.rmdir=(0,n.promisify)(this.fs,"rmdir");this.rm=(0,n.promisify)(this.fs,"rm");this.stat=(0,n.promisify)(this.fs,"stat");this.symlink=(0,n.promisify)(this.fs,"symlink");this.truncate=(0,n.promisify)(this.fs,"truncate");this.unlink=(0,n.promisify)(this.fs,"unlink");this.utimes=(0,n.promisify)(this.fs,"utimes");this.readFile=(e,t)=>(0,n.promisify)(this.fs,"readFile")(e instanceof this.FileHandle?e.fd:e,t);this.appendFile=(e,t,s)=>(0,n.promisify)(this.fs,"appendFile")(e instanceof this.FileHandle?e.fd:e,t,s);this.open=(e,t="r",s)=>(0,n.promisify)(this.fs,"open",(e=>new this.FileHandle(this.fs,e)))(e,t,s);this.writeFile=(e,t,s)=>(0,n.promisify)(this.fs,"writeFile")(e instanceof this.FileHandle?e.fd:e,t,s);this.watch=()=>{throw new Error("Not implemented")}}}t.FsPromises=FsPromises},217:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.FLAGS=t.ERRSTR=void 0;const n=s(6929);t.ERRSTR={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};const{O_RDONLY:i,O_WRONLY:r,O_RDWR:o,O_CREAT:a,O_EXCL:c,O_TRUNC:l,O_APPEND:f,O_SYNC:h}=n.constants;var d;(function(e){e[e["r"]=i]="r";e[e["r+"]=o]="r+";e[e["rs"]=i|h]="rs";e[e["sr"]=e.rs]="sr";e[e["rs+"]=o|h]="rs+";e[e["sr+"]=e["rs+"]]="sr+";e[e["w"]=r|a|l]="w";e[e["wx"]=r|a|l|c]="wx";e[e["xw"]=e.wx]="xw";e[e["w+"]=o|a|l]="w+";e[e["wx+"]=o|a|l|c]="wx+";e[e["xw+"]=e["wx+"]]="xw+";e[e["a"]=r|f|a]="a";e[e["ax"]=r|f|a|c]="ax";e[e["xa"]=e.ax]="xa";e[e["a+"]=o|f|a]="a+";e[e["ax+"]=o|f|a|c]="ax+";e[e["xa+"]=e["ax+"]]="xa+"})(d||(t.FLAGS=d={}))},5501:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.fsCallbackApiList=void 0;t.fsCallbackApiList=["access","appendFile","chmod","chown","close","copyFile","createReadStream","createWriteStream","exists","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","read","readv","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","unwatchFile","utimes","watch","watchFile","write","writev","writeFile"]},1390:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.fsSynchronousApiList=void 0;t.fsSynchronousApiList=["accessSync","appendFileSync","chmodSync","chownSync","closeSync","copyFileSync","existsSync","fchmodSync","fchownSync","fdatasyncSync","fstatSync","fsyncSync","ftruncateSync","futimesSync","lchmodSync","lchownSync","linkSync","lstatSync","mkdirSync","mkdtempSync","openSync","readdirSync","readFileSync","readlinkSync","readSync","readvSync","realpathSync","renameSync","rmdirSync","rmSync","statSync","symlinkSync","truncateSync","unlinkSync","utimesSync","writeFileSync","writeSync","writevSync"]},8938:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.getWriteFileOptions=t.writeFileDefaults=t.getRealpathOptsAndCb=t.getRealpathOptions=t.getStatOptsAndCb=t.getStatOptions=t.getAppendFileOptsAndCb=t.getAppendFileOpts=t.getReaddirOptsAndCb=t.getReaddirOptions=t.getReadFileOptions=t.getRmOptsAndCb=t.getRmdirOptions=t.getDefaultOptsAndCb=t.getDefaultOpts=t.optsDefaults=t.optsAndCbGenerator=t.optsGenerator=t.getOptions=t.getMkdirOptions=void 0;const n=s(217);const i=s(7669);const r=s(4860);const o={mode:511,recursive:false};const getMkdirOptions=e=>{if(typeof e==="number")return Object.assign({},o,{mode:e});return Object.assign({},o,e)};t.getMkdirOptions=getMkdirOptions;const ERRSTR_OPTS=e=>`Expected options to be either an object or a string, but got ${e} instead`;function getOptions(e,t){let s;if(!t)return e;else{const n=typeof t;switch(n){case"string":s=Object.assign({},e,{encoding:t});break;case"object":s=Object.assign({},e,t);break;default:throw TypeError(ERRSTR_OPTS(n))}}if(s.encoding!=="buffer")(0,i.assertEncoding)(s.encoding);return s}t.getOptions=getOptions;function optsGenerator(e){return t=>getOptions(e,t)}t.optsGenerator=optsGenerator;function optsAndCbGenerator(e){return(t,s)=>typeof t==="function"?[e(),t]:[e(t),(0,r.validateCallback)(s)]}t.optsAndCbGenerator=optsAndCbGenerator;t.optsDefaults={encoding:"utf8"};t.getDefaultOpts=optsGenerator(t.optsDefaults);t.getDefaultOptsAndCb=optsAndCbGenerator(t.getDefaultOpts);const a={recursive:false};const getRmdirOptions=e=>Object.assign({},a,e);t.getRmdirOptions=getRmdirOptions;const c=optsGenerator(t.optsDefaults);t.getRmOptsAndCb=optsAndCbGenerator(c);const l={flag:"r"};t.getReadFileOptions=optsGenerator(l);const f={encoding:"utf8",recursive:false,withFileTypes:false};t.getReaddirOptions=optsGenerator(f);t.getReaddirOptsAndCb=optsAndCbGenerator(t.getReaddirOptions);const h={encoding:"utf8",mode:438,flag:n.FLAGS[n.FLAGS.a]};t.getAppendFileOpts=optsGenerator(h);t.getAppendFileOptsAndCb=optsAndCbGenerator(t.getAppendFileOpts);const d={bigint:false};const getStatOptions=(e={})=>Object.assign({},d,e);t.getStatOptions=getStatOptions;const getStatOptsAndCb=(e,s)=>typeof e==="function"?[(0,t.getStatOptions)(),e]:[(0,t.getStatOptions)(e),(0,r.validateCallback)(s)];t.getStatOptsAndCb=getStatOptsAndCb;const u=t.optsDefaults;t.getRealpathOptions=optsGenerator(u);t.getRealpathOptsAndCb=optsAndCbGenerator(t.getRealpathOptions);t.writeFileDefaults={encoding:"utf8",mode:438,flag:n.FLAGS[n.FLAGS.w]};t.getWriteFileOptions=optsGenerator(t.writeFileDefaults)},4860:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.unixify=t.bufferToEncoding=t.getWriteSyncArgs=t.getWriteArgs=t.bufToUint8=t.dataToBuffer=t.validateFd=t.isFd=t.flagsToNumber=t.genRndStr6=t.createError=t.pathToFilename=t.nullCheck=t.modeToNumber=t.validateCallback=t.promisify=t.isWin=void 0;const n=s(217);const i=s(4545);const r=s(9760);const o=s(7669);const a=s(9760);const c=s(5681);t.isWin=process.platform==="win32";function promisify(e,t,s=(e=>e)){return(...n)=>new Promise(((i,r)=>{e[t].bind(e)(...n,((e,t)=>{if(e)return r(e);return i(s(t))}))}))}t.promisify=promisify;function validateCallback(e){if(typeof e!=="function")throw TypeError(n.ERRSTR.CB);return e}t.validateCallback=validateCallback;function _modeToNumber(e,t){if(typeof e==="number")return e;if(typeof e==="string")return parseInt(e,8);if(t)return modeToNumber(t);return undefined}function modeToNumber(e,t){const s=_modeToNumber(e,t);if(typeof s!=="number"||isNaN(s))throw new TypeError(n.ERRSTR.MODE_INT);return s}t.modeToNumber=modeToNumber;function nullCheck(e,t){if((""+e).indexOf("\0")!==-1){const e=new Error("Path must be a string without null bytes");e.code="ENOENT";if(typeof t!=="function")throw e;(0,c.default)((()=>{t(e)}));return false}return true}t.nullCheck=nullCheck;function getPathFromURLPosix(e){if(e.hostname!==""){throw new i.TypeError("ERR_INVALID_FILE_URL_HOST",process.platform)}const t=e.pathname;for(let e=0;e<t.length;e++){if(t[e]==="%"){const s=t.codePointAt(e+2)|32;if(t[e+1]==="2"&&s===102){throw new i.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}}}return decodeURIComponent(t)}function pathToFilename(e){if(typeof e!=="string"&&!r.Buffer.isBuffer(e)){try{if(!(e instanceof s(7310).URL))throw new TypeError(n.ERRSTR.PATH_STR)}catch(e){throw new TypeError(n.ERRSTR.PATH_STR)}e=getPathFromURLPosix(e)}const t=String(e);nullCheck(t);return t}t.pathToFilename=pathToFilename;const l="ENOENT";const f="EBADF";const h="EINVAL";const d="EPERM";const u="EPROTO";const p="EEXIST";const m="ENOTDIR";const g="EMFILE";const y="EACCES";const b="EISDIR";const _="ENOTEMPTY";const S="ENOSYS";const w="ERR_FS_EISDIR";const R="ERR_OUT_OF_RANGE";function formatError(e,t="",s="",n=""){let i="";if(s)i=` '${s}'`;if(n)i+=` -> '${n}'`;switch(e){case l:return`ENOENT: no such file or directory, ${t}${i}`;case f:return`EBADF: bad file descriptor, ${t}${i}`;case h:return`EINVAL: invalid argument, ${t}${i}`;case d:return`EPERM: operation not permitted, ${t}${i}`;case u:return`EPROTO: protocol error, ${t}${i}`;case p:return`EEXIST: file already exists, ${t}${i}`;case m:return`ENOTDIR: not a directory, ${t}${i}`;case b:return`EISDIR: illegal operation on a directory, ${t}${i}`;case y:return`EACCES: permission denied, ${t}${i}`;case _:return`ENOTEMPTY: directory not empty, ${t}${i}`;case g:return`EMFILE: too many open files, ${t}${i}`;case S:return`ENOSYS: function not implemented, ${t}${i}`;case w:return`[ERR_FS_EISDIR]: Path is a directory: ${t} returned EISDIR (is a directory) ${s}`;case R:return`[ERR_OUT_OF_RANGE]: value out of range, ${t}${i}`;default:return`${e}: error occurred, ${t}${i}`}}function createError(e,t="",s="",n="",i=Error){const r=new i(formatError(e,t,s,n));r.code=e;if(s){r.path=s}return r}t.createError=createError;function genRndStr6(){const e=(Math.random()+1).toString(36).substring(2,8);if(e.length===6)return e;else return genRndStr6()}t.genRndStr6=genRndStr6;function flagsToNumber(e){if(typeof e==="number")return e;if(typeof e==="string"){const t=n.FLAGS[e];if(typeof t!=="undefined")return t}throw new i.TypeError("ERR_INVALID_OPT_VALUE","flags",e)}t.flagsToNumber=flagsToNumber;function isFd(e){return e>>>0===e}t.isFd=isFd;function validateFd(e){if(!isFd(e))throw TypeError(n.ERRSTR.FD)}t.validateFd=validateFd;function dataToBuffer(e,t=o.ENCODING_UTF8){if(r.Buffer.isBuffer(e))return e;else if(e instanceof Uint8Array)return(0,a.bufferFrom)(e);else return(0,a.bufferFrom)(String(e),t)}t.dataToBuffer=dataToBuffer;const bufToUint8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.bufToUint8=bufToUint8;const getWriteArgs=(e,t,s,n,i,r)=>{validateFd(e);let o=0;let a;let c=null;let l;let f;const h=typeof t;const d=typeof s;const u=typeof n;const p=typeof i;if(h!=="string"){if(d==="function"){f=s}else if(u==="function"){o=s|0;f=n}else if(p==="function"){o=s|0;a=n;f=i}else{o=s|0;a=n;c=i;f=r}}else{if(d==="function"){f=s}else if(u==="function"){c=s;f=n}else if(p==="function"){c=s;l=n;f=i}}const m=dataToBuffer(t,l);if(h!=="string"){if(typeof a==="undefined")a=m.length}else{o=0;a=m.length}const g=validateCallback(f);return[e,h==="string",m,o,a,c,g]};t.getWriteArgs=getWriteArgs;const getWriteSyncArgs=(e,t,s,n,i)=>{validateFd(e);let r;let o;let a;let c;const l=typeof t!=="string";if(l){o=(s||0)|0;a=n;c=i}else{c=s;r=n}const f=dataToBuffer(t,r);if(l){if(typeof a==="undefined"){a=f.length}}else{o=0;a=f.length}return[e,f,o||0,a,c]};t.getWriteSyncArgs=getWriteSyncArgs;function bufferToEncoding(e,t){if(!t||t==="buffer")return e;else return e.toString(t)}t.bufferToEncoding=bufferToEncoding;const isSeparator=(e,s)=>{let n=e[s];return s>0&&(n==="/"||t.isWin&&n==="\\")};const removeTrailingSeparator=e=>{let t=e.length-1;if(t<2)return e;while(isSeparator(e,t))t--;return e.substr(0,t+1)};const normalizePath=(e,t)=>{if(typeof e!=="string")throw new TypeError("expected a string");e=e.replace(/[\\\/]+/g,"/");if(t!==false)e=removeTrailingSeparator(e);return e};const unixify=(e,s=true)=>{if(t.isWin){e=normalizePath(e,s);return e.replace(/^([a-zA-Z]+:|\.\/)/,"")}return e};t.unixify=unixify},9870:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.toTreeSync=void 0;const n=s(5825);const i=s(9985);const toTreeSync=(e,s={})=>{var r;const o=s.separator||"/";let a=s.dir||o;if(a[a.length-1]!==o)a+=o;const c=s.tab||"";const l=(r=s.depth)!==null&&r!==void 0?r:10;let f=" (...)";if(l>0){const s=e.readdirSync(a,{withFileTypes:true});f=(0,n.printTree)(c,s.map((s=>n=>{if(s.isDirectory()){return(0,t.toTreeSync)(e,{dir:a+s.name,depth:l-1,tab:n})}else if(s.isSymbolicLink()){return""+s.name+" → "+e.readlinkSync(a+s.name)}else{return""+s.name}})))}const h=(0,i.basename)(a,o)+o;return h+f};t.toTreeSync=toTreeSync},9173:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.createProcess=void 0;const maybeReturnProcess=()=>{if(typeof process!=="undefined"){return process}try{return s(7282)}catch(e){return undefined}};function createProcess(){const e=maybeReturnProcess()||{};if(!e.cwd)e.cwd=()=>"/";if(!e.emitWarning)e.emitWarning=(e,t)=>{console.warn(`${t}${t?": ":""}${e}`)};if(!e.env)e.env={};return e}t.createProcess=createProcess;t["default"]=createProcess()},5681:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=typeof queueMicrotask==="function"?queueMicrotask:e=>Promise.resolve().then((()=>e())).catch((()=>{}))},1504:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});let s;if(typeof setImmediate==="function")s=setImmediate.bind(typeof globalThis!=="undefined"?globalThis:global);else s=setTimeout.bind(typeof globalThis!=="undefined"?globalThis:global);t["default"]=s},8649:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});function setTimeoutUnref(e,t,s){const n=setTimeout.apply(typeof globalThis!=="undefined"?globalThis:global,arguments);if(n&&typeof n==="object"&&typeof n.unref==="function")n.unref();return n}t["default"]=setTimeoutUnref},9395:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:true});t.FSWatcher=t.StatWatcher=t.Volume=t.toUnixTimestamp=t.dataToStr=t.pathToSteps=t.filenameToSteps=void 0;const n=s(1017);const i=s(1102);const r=s(5161);const o=s(3353);const a=s(9760);const c=s(1504);const l=s(5681);const f=s(9173);const h=s(8649);const d=s(2781);const u=s(6929);const p=s(2361);const m=s(7669);const g=s(4506);const y=s(3837);const b=s(1098);const _=s(9870);const S=s(217);const w=s(8938);const R=s(4860);const F=n.resolve;const{O_RDONLY:T,O_WRONLY:O,O_RDWR:k,O_CREAT:v,O_EXCL:N,O_TRUNC:A,O_APPEND:I,O_DIRECTORY:C,O_SYMLINK:B,F_OK:L,COPYFILE_EXCL:D,COPYFILE_FICLONE_FORCE:P}=u.constants;const{sep:x,relative:M,join:U,dirname:$}=n.posix?n.posix:n;const W=128;const H="EPERM";const G="ENOENT";const j="EBADF";const V="EINVAL";const q="EEXIST";const Y="ENOTDIR";const K="EMFILE";const J="EACCES";const X="EISDIR";const z="ENOTEMPTY";const Z="ENOSYS";const Q="ERR_FS_EISDIR";const ee="ERR_OUT_OF_RANGE";let resolve=(e,t=f.default.cwd())=>F(t,e);if(R.isWin){const e=resolve;resolve=(t,s)=>(0,R.unixify)(e(t,s))}function filenameToSteps(e,t){const s=resolve(e,t);const n=s.substring(1);if(!n)return[];return n.split(x)}t.filenameToSteps=filenameToSteps;function pathToSteps(e){return filenameToSteps((0,R.pathToFilename)(e))}t.pathToSteps=pathToSteps;function dataToStr(e,t=m.ENCODING_UTF8){if(a.Buffer.isBuffer(e))return e.toString(t);else if(e instanceof Uint8Array)return(0,a.bufferFrom)(e).toString(t);else return String(e)}t.dataToStr=dataToStr;function toUnixTimestamp(e){if(typeof e==="string"&&+e==e){return+e}if(e instanceof Date){return e.getTime()/1e3}if(isFinite(e)){if(e<0){return Date.now()/1e3}return e}throw new Error("Cannot parse time: "+e)}t.toUnixTimestamp=toUnixTimestamp;function validateUid(e){if(typeof e!=="number")throw TypeError(S.ERRSTR.UID)}function validateGid(e){if(typeof e!=="number")throw TypeError(S.ERRSTR.GID)}function flattenJSON(e){const t={};function flatten(e,s){for(const n in s){const i=s[n];const r=U(e,n);if(typeof i==="string"||i instanceof a.Buffer){t[r]=i}else if(typeof i==="object"&&i!==null&&Object.keys(i).length>0){flatten(r,i)}else{t[r]=null}}}flatten("",e);return t}const notImplemented=()=>{throw new Error("Not implemented")};class Volume{static fromJSON(e,t){const s=new Volume;s.fromJSON(e,t);return s}static fromNestedJSON(e,t){const s=new Volume;s.fromNestedJSON(e,t);return s}get promises(){if(this.promisesApi===null)throw new Error("Promise is not supported in this environment.");return this.promisesApi}constructor(e={}){this.ino=0;this.inodes={};this.releasedInos=[];this.fds={};this.releasedFds=[];this.maxFiles=1e4;this.openFiles=0;this.promisesApi=new b.FsPromises(this,g.FileHandle);this.statWatchers={};this.cpSync=notImplemented;this.lutimesSync=notImplemented;this.statfsSync=notImplemented;this.opendirSync=notImplemented;this.cp=notImplemented;this.lutimes=notImplemented;this.statfs=notImplemented;this.openAsBlob=notImplemented;this.opendir=notImplemented;this.props=Object.assign({Node:i.Node,Link:i.Link,File:i.File},e);const t=this.createLink();t.setNode(this.createNode(true));const s=this;this.StatWatcher=class extends StatWatcher{constructor(){super(s)}};const n=FsReadStream;this.ReadStream=class extends n{constructor(...e){super(s,...e)}};const r=FsWriteStream;this.WriteStream=class extends r{constructor(...e){super(s,...e)}};this.FSWatcher=class extends FSWatcher{constructor(){super(s)}};t.setChild(".",t);t.getNode().nlink++;t.setChild("..",t);t.getNode().nlink++;this.root=t}createLink(e,t,s=false,n){if(!e){return new this.props.Link(this,null,"")}if(!t){throw new Error("createLink: name cannot be empty")}return e.createChild(t,this.createNode(s,n))}deleteLink(e){const t=e.parent;if(t){t.deleteChild(e);return true}return false}newInoNumber(){const e=this.releasedInos.pop();if(e)return e;else{this.ino=(this.ino+1)%4294967295;return this.ino}}newFdNumber(){const e=this.releasedFds.pop();return typeof e==="number"?e:Volume.fd--}createNode(e=false,t){const s=new this.props.Node(this.newInoNumber(),t);if(e)s.setIsDirectory();this.inodes[s.ino]=s;return s}deleteNode(e){e.del();delete this.inodes[e.ino];this.releasedInos.push(e.ino)}getLink(e){return this.root.walk(e)}getLinkOrThrow(e,t){const s=filenameToSteps(e);const n=this.getLink(s);if(!n)throw(0,R.createError)(G,t,e);return n}getResolvedLink(e){let t=typeof e==="string"?filenameToSteps(e):e;let s=this.root;let n=0;while(n<t.length){const e=t[n];s=s.getChild(e);if(!s)return null;const i=s.getNode();if(i.isSymlink()){t=i.symlink.concat(t.slice(n+1));s=this.root;n=0;continue}n++}return s}getResolvedLinkOrThrow(e,t){const s=this.getResolvedLink(e);if(!s)throw(0,R.createError)(G,t,e);return s}resolveSymlinks(e){return this.getResolvedLink(e.steps.slice(1))}getLinkAsDirOrThrow(e,t){const s=this.getLinkOrThrow(e,t);if(!s.getNode().isDirectory())throw(0,R.createError)(Y,t,e);return s}getLinkParent(e){return this.root.walk(e,e.length-1)}getLinkParentAsDirOrThrow(e,t){const s=e instanceof Array?e:filenameToSteps(e);const n=this.getLinkParent(s);if(!n)throw(0,R.createError)(G,t,x+s.join(x));if(!n.getNode().isDirectory())throw(0,R.createError)(Y,t,x+s.join(x));return n}getFileByFd(e){return this.fds[String(e)]}getFileByFdOrThrow(e,t){if(!(0,R.isFd)(e))throw TypeError(S.ERRSTR.FD);const s=this.getFileByFd(e);if(!s)throw(0,R.createError)(j,t);return s}wrapAsync(e,t,s){(0,R.validateCallback)(s);(0,c.default)((()=>{let n;try{n=e.apply(this,t)}catch(e){s(e);return}s(null,n)}))}_toJSON(e=this.root,t={},s,n){let i=true;let r=e.children;if(e.getNode().isFile()){r=new Map([[e.getName(),e.parent.getChild(e.getName())]]);e=e.parent}for(const o of r.keys()){if(o==="."||o===".."){continue}i=false;const r=e.getChild(o);if(!r){throw new Error("_toJSON: unexpected undefined")}const a=r.getNode();if(a.isFile()){let e=r.getPath();if(s)e=M(s,e);t[e]=n?a.getBuffer():a.getString()}else if(a.isDirectory()){this._toJSON(r,t,s)}}let o=e.getPath();if(s)o=M(s,o);if(o&&i){t[o]=null}return t}toJSON(e,t={},s=false,n=false){const i=[];if(e){if(!Array.isArray(e))e=[e];for(const t of e){const e=(0,R.pathToFilename)(t);const s=this.getResolvedLink(e);if(!s)continue;i.push(s)}}else{i.push(this.root)}if(!i.length)return t;for(const e of i)this._toJSON(e,t,s?e.getPath():"",n);return t}fromJSON(e,t=f.default.cwd()){for(let s in e){const n=e[s];s=resolve(s,t);if(typeof n==="string"||n instanceof a.Buffer){const e=$(s);this.mkdirpBase(e,511);this.writeFileSync(s,n)}else{this.mkdirpBase(s,511)}}}fromNestedJSON(e,t){this.fromJSON(flattenJSON(e),t)}toTree(e={separator:x}){return(0,_.toTreeSync)(this,e)}reset(){this.ino=0;this.inodes={};this.releasedInos=[];this.fds={};this.releasedFds=[];this.openFiles=0;this.root=this.createLink();this.root.setNode(this.createNode(true))}mountSync(e,t){this.fromJSON(t,e)}openLink(e,t,s=true){if(this.openFiles>=this.maxFiles){throw(0,R.createError)(K,"open",e.getPath())}let n=e;if(s)n=this.resolveSymlinks(e);if(!n)throw(0,R.createError)(G,"open",e.getPath());const i=n.getNode();if(i.isDirectory()){if((t&(T|k|O))!==T)throw(0,R.createError)(X,"open",e.getPath())}else{if(t&C)throw(0,R.createError)(Y,"open",e.getPath())}if(!(t&O)){if(!i.canRead()){throw(0,R.createError)(J,"open",e.getPath())}}if(t&k){}const r=new this.props.File(e,i,t,this.newFdNumber());this.fds[r.fd]=r;this.openFiles++;if(t&A)r.truncate();return r}openFile(e,t,s,n=true){const i=filenameToSteps(e);let r=n?this.getResolvedLink(i):this.getLink(i);if(r&&t&N)throw(0,R.createError)(q,"open",e);if(!r&&t&v){const e=this.getResolvedLink(i.slice(0,i.length-1));if(!e)throw(0,R.createError)(G,"open",x+i.join(x));if(t&v&&typeof s==="number"){r=this.createLink(e,i[i.length-1],false,s)}}if(r)return this.openLink(r,t,n);throw(0,R.createError)(G,"open",e)}openBase(e,t,s,n=true){const i=this.openFile(e,t,s,n);if(!i)throw(0,R.createError)(G,"open",e);return i.fd}openSync(e,t,s=438){const n=(0,R.modeToNumber)(s);const i=(0,R.pathToFilename)(e);const r=(0,R.flagsToNumber)(t);return this.openBase(i,r,n,!(r&B))}open(e,t,s,n){let i=s;let r=n;if(typeof s==="function"){i=438;r=s}i=i||438;const o=(0,R.modeToNumber)(i);const a=(0,R.pathToFilename)(e);const c=(0,R.flagsToNumber)(t);this.wrapAsync(this.openBase,[a,c,o,!(c&B)],r)}closeFile(e){if(!this.fds[e.fd])return;this.openFiles--;delete this.fds[e.fd];this.releasedFds.push(e.fd)}closeSync(e){(0,R.validateFd)(e);const t=this.getFileByFdOrThrow(e,"close");this.closeFile(t)}close(e,t){(0,R.validateFd)(e);this.wrapAsync(this.closeSync,[e],t)}openFileOrGetById(e,t,s){if(typeof e==="number"){const t=this.fds[e];if(!t)throw(0,R.createError)(G);return t}else{return this.openFile((0,R.pathToFilename)(e),t,s)}}readBase(e,t,s,n,i){if(t.byteLength<n){throw(0,R.createError)(ee,"read",undefined,undefined,RangeError)}const r=this.getFileByFdOrThrow(e);if(r.node.isSymlink()){throw(0,R.createError)(H,"read",r.link.getPath())}return r.read(t,Number(s),Number(n),i===-1||typeof i!=="number"?undefined:i)}readSync(e,t,s,n,i){(0,R.validateFd)(e);return this.readBase(e,t,s,n,i)}read(e,t,s,n,i,r){(0,R.validateCallback)(r);if(n===0){return(0,l.default)((()=>{if(r)r(null,0,t)}))}(0,c.default)((()=>{try{const o=this.readBase(e,t,s,n,i);r(null,o,t)}catch(e){r(e)}}))}readvBase(e,t,s){const n=this.getFileByFdOrThrow(e);let i=s!==null&&s!==void 0?s:undefined;if(i===-1){i=undefined}let r=0;for(const e of t){const t=n.read(e,0,e.byteLength,i);i=undefined;r+=t;if(t<e.byteLength)break}return r}readv(e,t,s,n){let i=s;let r=n;if(typeof s==="function"){i=null;r=s}(0,R.validateCallback)(r);(0,c.default)((()=>{try{const s=this.readvBase(e,t,i);r(null,s,t)}catch(e){r(e)}}))}readvSync(e,t,s){(0,R.validateFd)(e);return this.readvBase(e,t,s)}readFileBase(e,t,s){let n;const i=typeof e==="number";const r=i&&(0,R.isFd)(e);let o;if(r)o=e;else{const s=(0,R.pathToFilename)(e);const n=filenameToSteps(s);const i=this.getResolvedLink(n);if(i){const e=i.getNode();if(e.isDirectory())throw(0,R.createError)(X,"open",i.getPath())}o=this.openSync(e,t)}try{n=(0,R.bufferToEncoding)(this.getFileByFdOrThrow(o).getBuffer(),s)}finally{if(!r){this.closeSync(o)}}return n}readFileSync(e,t){const s=(0,w.getReadFileOptions)(t);const n=(0,R.flagsToNumber)(s.flag);return this.readFileBase(e,n,s.encoding)}readFile(e,t,s){const[n,i]=(0,w.optsAndCbGenerator)(w.getReadFileOptions)(t,s);const r=(0,R.flagsToNumber)(n.flag);this.wrapAsync(this.readFileBase,[e,r,n.encoding],i)}writeBase(e,t,s,n,i){const r=this.getFileByFdOrThrow(e,"write");if(r.node.isSymlink()){throw(0,R.createError)(j,"write",r.link.getPath())}return r.write(t,s,n,i===-1||typeof i!=="number"?undefined:i)}writeSync(e,t,s,n,i){const[,r,o,a,c]=(0,R.getWriteSyncArgs)(e,t,s,n,i);return this.writeBase(e,r,o,a,c)}write(e,t,s,n,i,r){const[,o,a,l,f,h,d]=(0,R.getWriteArgs)(e,t,s,n,i,r);(0,c.default)((()=>{try{const s=this.writeBase(e,a,l,f,h);if(!o){d(null,s,a)}else{d(null,s,t)}}catch(e){d(e)}}))}writevBase(e,t,s){const n=this.getFileByFdOrThrow(e);let i=s!==null&&s!==void 0?s:undefined;if(i===-1){i=undefined}let r=0;for(const e of t){const t=a.Buffer.from(e.buffer,e.byteOffset,e.byteLength);const s=n.write(t,0,t.byteLength,i);i=undefined;r+=s;if(s<t.byteLength)break}return r}writev(e,t,s,n){let i=s;let r=n;if(typeof s==="function"){i=null;r=s}(0,R.validateCallback)(r);(0,c.default)((()=>{try{const s=this.writevBase(e,t,i);r(null,s,t)}catch(e){r(e)}}))}writevSync(e,t,s){(0,R.validateFd)(e);return this.writevBase(e,t,s)}writeFileBase(e,t,s,n){const i=typeof e==="number";let r;if(i)r=e;else{r=this.openBase((0,R.pathToFilename)(e),s,n)}let o=0;let a=t.length;let c=s&I?undefined:0;try{while(a>0){const e=this.writeSync(r,t,o,a,c);o+=e;a-=e;if(c!==undefined)c+=e}}finally{if(!i)this.closeSync(r)}}writeFileSync(e,t,s){const n=(0,w.getWriteFileOptions)(s);const i=(0,R.flagsToNumber)(n.flag);const r=(0,R.modeToNumber)(n.mode);const o=(0,R.dataToBuffer)(t,n.encoding);this.writeFileBase(e,o,i,r)}writeFile(e,t,s,n){let i=s;let r=n;if(typeof s==="function"){i=w.writeFileDefaults;r=s}const o=(0,R.validateCallback)(r);const a=(0,w.getWriteFileOptions)(i);const c=(0,R.flagsToNumber)(a.flag);const l=(0,R.modeToNumber)(a.mode);const f=(0,R.dataToBuffer)(t,a.encoding);this.wrapAsync(this.writeFileBase,[e,f,c,l],o)}linkBase(e,t){const s=filenameToSteps(e);const n=this.getLink(s);if(!n)throw(0,R.createError)(G,"link",e,t);const i=filenameToSteps(t);const r=this.getLinkParent(i);if(!r)throw(0,R.createError)(G,"link",e,t);const o=i[i.length-1];if(r.getChild(o))throw(0,R.createError)(q,"link",e,t);const a=n.getNode();a.nlink++;r.createChild(o,a)}copyFileBase(e,t,s){const n=this.readFileSync(e);if(s&D){if(this.existsSync(t)){throw(0,R.createError)(q,"copyFile",e,t)}}if(s&P){throw(0,R.createError)(Z,"copyFile",e,t)}this.writeFileBase(t,n,S.FLAGS.w,438)}copyFileSync(e,t,s){const n=(0,R.pathToFilename)(e);const i=(0,R.pathToFilename)(t);return this.copyFileBase(n,i,(s||0)|0)}copyFile(e,t,s,n){const i=(0,R.pathToFilename)(e);const r=(0,R.pathToFilename)(t);let o;let a;if(typeof s==="function"){o=0;a=s}else{o=s;a=n}(0,R.validateCallback)(a);this.wrapAsync(this.copyFileBase,[i,r,o],a)}linkSync(e,t){const s=(0,R.pathToFilename)(e);const n=(0,R.pathToFilename)(t);this.linkBase(s,n)}link(e,t,s){const n=(0,R.pathToFilename)(e);const i=(0,R.pathToFilename)(t);this.wrapAsync(this.linkBase,[n,i],s)}unlinkBase(e){const t=filenameToSteps(e);const s=this.getLink(t);if(!s)throw(0,R.createError)(G,"unlink",e);if(s.length)throw Error("Dir not empty...");this.deleteLink(s);const n=s.getNode();n.nlink--;if(n.nlink<=0){this.deleteNode(n)}}unlinkSync(e){const t=(0,R.pathToFilename)(e);this.unlinkBase(t)}unlink(e,t){const s=(0,R.pathToFilename)(e);this.wrapAsync(this.unlinkBase,[s],t)}symlinkBase(e,t){const s=filenameToSteps(t);const n=this.getLinkParent(s);if(!n)throw(0,R.createError)(G,"symlink",e,t);const i=s[s.length-1];if(n.getChild(i))throw(0,R.createError)(q,"symlink",e,t);const r=n.createChild(i);r.getNode().makeSymlink(filenameToSteps(e));return r}symlinkSync(e,t,s){const n=(0,R.pathToFilename)(e);const i=(0,R.pathToFilename)(t);this.symlinkBase(n,i)}symlink(e,t,s,n){const i=(0,R.validateCallback)(typeof s==="function"?s:n);const r=(0,R.pathToFilename)(e);const o=(0,R.pathToFilename)(t);this.wrapAsync(this.symlinkBase,[r,o],i)}realpathBase(e,t){const s=filenameToSteps(e);const n=this.getResolvedLink(s);if(!n)throw(0,R.createError)(G,"realpath",e);return(0,m.strToEncoding)(n.getPath()||"/",t)}realpathSync(e,t){return this.realpathBase((0,R.pathToFilename)(e),(0,w.getRealpathOptions)(t).encoding)}realpath(e,t,s){const[n,i]=(0,w.getRealpathOptsAndCb)(t,s);const r=(0,R.pathToFilename)(e);this.wrapAsync(this.realpathBase,[r,n.encoding],i)}lstatBase(e,t=false,s=false){const n=this.getLink(filenameToSteps(e));if(n){return r.default.build(n.getNode(),t)}else if(!s){return undefined}else{throw(0,R.createError)(G,"lstat",e)}}lstatSync(e,t){const{throwIfNoEntry:s=true,bigint:n=false}=(0,w.getStatOptions)(t);return this.lstatBase((0,R.pathToFilename)(e),n,s)}lstat(e,t,s){const[{throwIfNoEntry:n=true,bigint:i=false},r]=(0,w.getStatOptsAndCb)(t,s);this.wrapAsync(this.lstatBase,[(0,R.pathToFilename)(e),i,n],r)}statBase(e,t=false,s=true){const n=this.getResolvedLink(filenameToSteps(e));if(n){return r.default.build(n.getNode(),t)}else if(!s){return undefined}else{throw(0,R.createError)(G,"stat",e)}}statSync(e,t){const{bigint:s=true,throwIfNoEntry:n=true}=(0,w.getStatOptions)(t);return this.statBase((0,R.pathToFilename)(e),s,n)}stat(e,t,s){const[{bigint:n=false,throwIfNoEntry:i=true},r]=(0,w.getStatOptsAndCb)(t,s);this.wrapAsync(this.statBase,[(0,R.pathToFilename)(e),n,i],r)}fstatBase(e,t=false){const s=this.getFileByFd(e);if(!s)throw(0,R.createError)(j,"fstat");return r.default.build(s.node,t)}fstatSync(e,t){return this.fstatBase(e,(0,w.getStatOptions)(t).bigint)}fstat(e,t,s){const[n,i]=(0,w.getStatOptsAndCb)(t,s);this.wrapAsync(this.fstatBase,[e,n.bigint],i)}renameBase(e,t){const s=this.getLink(filenameToSteps(e));if(!s)throw(0,R.createError)(G,"rename",e,t);const n=filenameToSteps(t);const i=this.getLinkParent(n);if(!i)throw(0,R.createError)(G,"rename",e,t);const r=s.parent;if(r){r.deleteChild(s)}const o=n[n.length-1];s.name=o;s.steps=[...i.steps,o];i.setChild(s.getName(),s)}renameSync(e,t){const s=(0,R.pathToFilename)(e);const n=(0,R.pathToFilename)(t);this.renameBase(s,n)}rename(e,t,s){const n=(0,R.pathToFilename)(e);const i=(0,R.pathToFilename)(t);this.wrapAsync(this.renameBase,[n,i],s)}existsBase(e){return!!this.statBase(e)}existsSync(e){try{return this.existsBase((0,R.pathToFilename)(e))}catch(e){return false}}exists(e,t){const s=(0,R.pathToFilename)(e);if(typeof t!=="function")throw Error(S.ERRSTR.CB);(0,c.default)((()=>{try{t(this.existsBase(s))}catch(e){t(false)}}))}accessBase(e,t){const s=this.getLinkOrThrow(e,"access")}accessSync(e,t=L){const s=(0,R.pathToFilename)(e);t=t|0;this.accessBase(s,t)}access(e,t,s){let n=L;let i;if(typeof t!=="function"){n=t|0;i=(0,R.validateCallback)(s)}else{i=t}const r=(0,R.pathToFilename)(e);this.wrapAsync(this.accessBase,[r,n],i)}appendFileSync(e,t,s){const n=(0,w.getAppendFileOpts)(s);if(!n.flag||(0,R.isFd)(e))n.flag="a";this.writeFileSync(e,t,n)}appendFile(e,t,s,n){const[i,r]=(0,w.getAppendFileOptsAndCb)(s,n);if(!i.flag||(0,R.isFd)(e))i.flag="a";this.writeFile(e,t,i,r)}readdirBase(e,t){const s=filenameToSteps(e);const i=this.getResolvedLink(s);if(!i)throw(0,R.createError)(G,"readdir",e);const r=i.getNode();if(!r.isDirectory())throw(0,R.createError)(Y,"scandir",e);const a=[];for(const e of i.children.keys()){const s=i.getChild(e);if(!s||e==="."||e==="..")continue;a.push(o.default.build(s,t.encoding));if(t.recursive&&s.children.size){const e=Object.assign(Object.assign({},t),{recursive:true,withFileTypes:true});const n=this.readdirBase(s.getPath(),e);a.push(...n)}}if(!R.isWin&&t.encoding!=="buffer")a.sort(((e,t)=>{if(e.name<t.name)return-1;if(e.name>t.name)return 1;return 0}));if(t.withFileTypes)return a;let c=e;if(R.isWin){c=c.replace(/\\/g,"/")}return a.map((e=>{if(t.recursive){return e.path.replace(c+n.posix.sep,"")}return e.name}))}readdirSync(e,t){const s=(0,w.getReaddirOptions)(t);const n=(0,R.pathToFilename)(e);return this.readdirBase(n,s)}readdir(e,t,s){const[n,i]=(0,w.getReaddirOptsAndCb)(t,s);const r=(0,R.pathToFilename)(e);this.wrapAsync(this.readdirBase,[r,n],i)}readlinkBase(e,t){const s=this.getLinkOrThrow(e,"readlink");const n=s.getNode();if(!n.isSymlink())throw(0,R.createError)(V,"readlink",e);const i=x+n.symlink.join(x);return(0,m.strToEncoding)(i,t)}readlinkSync(e,t){const s=(0,w.getDefaultOpts)(t);const n=(0,R.pathToFilename)(e);return this.readlinkBase(n,s.encoding)}readlink(e,t,s){const[n,i]=(0,w.getDefaultOptsAndCb)(t,s);const r=(0,R.pathToFilename)(e);this.wrapAsync(this.readlinkBase,[r,n.encoding],i)}fsyncBase(e){this.getFileByFdOrThrow(e,"fsync")}fsyncSync(e){this.fsyncBase(e)}fsync(e,t){this.wrapAsync(this.fsyncBase,[e],t)}fdatasyncBase(e){this.getFileByFdOrThrow(e,"fdatasync")}fdatasyncSync(e){this.fdatasyncBase(e)}fdatasync(e,t){this.wrapAsync(this.fdatasyncBase,[e],t)}ftruncateBase(e,t){const s=this.getFileByFdOrThrow(e,"ftruncate");s.truncate(t)}ftruncateSync(e,t){this.ftruncateBase(e,t)}ftruncate(e,t,s){const n=typeof t==="number"?t:0;const i=(0,R.validateCallback)(typeof t==="number"?s:t);this.wrapAsync(this.ftruncateBase,[e,n],i)}truncateBase(e,t){const s=this.openSync(e,"r+");try{this.ftruncateSync(s,t)}finally{this.closeSync(s)}}truncateSync(e,t){if((0,R.isFd)(e))return this.ftruncateSync(e,t);this.truncateBase(e,t)}truncate(e,t,s){const n=typeof t==="number"?t:0;const i=(0,R.validateCallback)(typeof t==="number"?s:t);if((0,R.isFd)(e))return this.ftruncate(e,n,i);this.wrapAsync(this.truncateBase,[e,n],i)}futimesBase(e,t,s){const n=this.getFileByFdOrThrow(e,"futimes");const i=n.node;i.atime=new Date(t*1e3);i.mtime=new Date(s*1e3)}futimesSync(e,t,s){this.futimesBase(e,toUnixTimestamp(t),toUnixTimestamp(s))}futimes(e,t,s,n){this.wrapAsync(this.futimesBase,[e,toUnixTimestamp(t),toUnixTimestamp(s)],n)}utimesBase(e,t,s){const n=this.openSync(e,"r");try{this.futimesBase(n,t,s)}finally{this.closeSync(n)}}utimesSync(e,t,s){this.utimesBase((0,R.pathToFilename)(e),toUnixTimestamp(t),toUnixTimestamp(s))}utimes(e,t,s,n){this.wrapAsync(this.utimesBase,[(0,R.pathToFilename)(e),toUnixTimestamp(t),toUnixTimestamp(s)],n)}mkdirBase(e,t){const s=filenameToSteps(e);if(!s.length){throw(0,R.createError)(q,"mkdir",e)}const n=this.getLinkParentAsDirOrThrow(e,"mkdir");const i=s[s.length-1];if(n.getChild(i))throw(0,R.createError)(q,"mkdir",e);n.createChild(i,this.createNode(true,t))}mkdirpBase(e,t){const s=resolve(e);const n=s.substring(1);const i=!n?[]:n.split(x);let r=this.root;let o=false;for(let e=0;e<i.length;e++){const s=i[e];if(!r.getNode().isDirectory())throw(0,R.createError)(Y,"mkdir",r.getPath());const n=r.getChild(s);if(n){if(n.getNode().isDirectory())r=n;else throw(0,R.createError)(Y,"mkdir",n.getPath())}else{r=r.createChild(s,this.createNode(true,t));o=true}}return o?s:undefined}mkdirSync(e,t){const s=(0,w.getMkdirOptions)(t);const n=(0,R.modeToNumber)(s.mode,511);const i=(0,R.pathToFilename)(e);if(s.recursive)return this.mkdirpBase(i,n);this.mkdirBase(i,n)}mkdir(e,t,s){const n=(0,w.getMkdirOptions)(t);const i=(0,R.validateCallback)(typeof t==="function"?t:s);const r=(0,R.modeToNumber)(n.mode,511);const o=(0,R.pathToFilename)(e);if(n.recursive)this.wrapAsync(this.mkdirpBase,[o,r],i);else this.wrapAsync(this.mkdirBase,[o,r],i)}mkdtempBase(e,t,s=5){const n=e+(0,R.genRndStr6)();try{this.mkdirBase(n,511);return(0,m.strToEncoding)(n,t)}catch(n){if(n.code===q){if(s>1)return this.mkdtempBase(e,t,s-1);else throw Error("Could not create temp dir.")}else throw n}}mkdtempSync(e,t){const{encoding:s}=(0,w.getDefaultOpts)(t);if(!e||typeof e!=="string")throw new TypeError("filename prefix is required");(0,R.nullCheck)(e);return this.mkdtempBase(e,s)}mkdtemp(e,t,s){const[{encoding:n},i]=(0,w.getDefaultOptsAndCb)(t,s);if(!e||typeof e!=="string")throw new TypeError("filename prefix is required");if(!(0,R.nullCheck)(e))return;this.wrapAsync(this.mkdtempBase,[e,n],i)}rmdirBase(e,t){const s=(0,w.getRmdirOptions)(t);const n=this.getLinkAsDirOrThrow(e,"rmdir");if(n.length&&!s.recursive)throw(0,R.createError)(z,"rmdir",e);this.deleteLink(n)}rmdirSync(e,t){this.rmdirBase((0,R.pathToFilename)(e),t)}rmdir(e,t,s){const n=(0,w.getRmdirOptions)(t);const i=(0,R.validateCallback)(typeof t==="function"?t:s);this.wrapAsync(this.rmdirBase,[(0,R.pathToFilename)(e),n],i)}rmBase(e,t={}){const s=this.getResolvedLink(e);if(!s){if(!t.force)throw(0,R.createError)(G,"stat",e);return}if(s.getNode().isDirectory()){if(!t.recursive){throw(0,R.createError)(Q,"rm",e)}}this.deleteLink(s)}rmSync(e,t){this.rmBase((0,R.pathToFilename)(e),t)}rm(e,t,s){const[n,i]=(0,w.getRmOptsAndCb)(t,s);this.wrapAsync(this.rmBase,[(0,R.pathToFilename)(e),n],i)}fchmodBase(e,t){const s=this.getFileByFdOrThrow(e,"fchmod");s.chmod(t)}fchmodSync(e,t){this.fchmodBase(e,(0,R.modeToNumber)(t))}fchmod(e,t,s){this.wrapAsync(this.fchmodBase,[e,(0,R.modeToNumber)(t)],s)}chmodBase(e,t){const s=this.openSync(e,"r");try{this.fchmodBase(s,t)}finally{this.closeSync(s)}}chmodSync(e,t){const s=(0,R.modeToNumber)(t);const n=(0,R.pathToFilename)(e);this.chmodBase(n,s)}chmod(e,t,s){const n=(0,R.modeToNumber)(t);const i=(0,R.pathToFilename)(e);this.wrapAsync(this.chmodBase,[i,n],s)}lchmodBase(e,t){const s=this.openBase(e,k,0,false);try{this.fchmodBase(s,t)}finally{this.closeSync(s)}}lchmodSync(e,t){const s=(0,R.modeToNumber)(t);const n=(0,R.pathToFilename)(e);this.lchmodBase(n,s)}lchmod(e,t,s){const n=(0,R.modeToNumber)(t);const i=(0,R.pathToFilename)(e);this.wrapAsync(this.lchmodBase,[i,n],s)}fchownBase(e,t,s){this.getFileByFdOrThrow(e,"fchown").chown(t,s)}fchownSync(e,t,s){validateUid(t);validateGid(s);this.fchownBase(e,t,s)}fchown(e,t,s,n){validateUid(t);validateGid(s);this.wrapAsync(this.fchownBase,[e,t,s],n)}chownBase(e,t,s){const n=this.getResolvedLinkOrThrow(e,"chown");const i=n.getNode();i.chown(t,s)}chownSync(e,t,s){validateUid(t);validateGid(s);this.chownBase((0,R.pathToFilename)(e),t,s)}chown(e,t,s,n){validateUid(t);validateGid(s);this.wrapAsync(this.chownBase,[(0,R.pathToFilename)(e),t,s],n)}lchownBase(e,t,s){this.getLinkOrThrow(e,"lchown").getNode().chown(t,s)}lchownSync(e,t,s){validateUid(t);validateGid(s);this.lchownBase((0,R.pathToFilename)(e),t,s)}lchown(e,t,s,n){validateUid(t);validateGid(s);this.wrapAsync(this.lchownBase,[(0,R.pathToFilename)(e),t,s],n)}watchFile(e,t,s){const n=(0,R.pathToFilename)(e);let i=t;let r=s;if(typeof i==="function"){r=t;i=null}if(typeof r!=="function"){throw Error('"watchFile()" requires a listener function')}let o=5007;let a=true;if(i&&typeof i==="object"){if(typeof i.interval==="number")o=i.interval;if(typeof i.persistent==="boolean")a=i.persistent}let c=this.statWatchers[n];if(!c){c=new this.StatWatcher;c.start(n,a,o);this.statWatchers[n]=c}c.addListener("change",r);return c}unwatchFile(e,t){const s=(0,R.pathToFilename)(e);const n=this.statWatchers[s];if(!n)return;if(typeof t==="function"){n.removeListener("change",t)}else{n.removeAllListeners("change")}if(n.listenerCount("change")===0){n.stop();delete this.statWatchers[s]}}createReadStream(e,t){return new this.ReadStream(e,t)}createWriteStream(e,t){return new this.WriteStream(e,t)}watch(e,t,s){const n=(0,R.pathToFilename)(e);let i=t;if(typeof t==="function"){s=t;i=null}let{persistent:r,recursive:o,encoding:a}=(0,w.getDefaultOpts)(i);if(r===undefined)r=true;if(o===undefined)o=false;const c=new this.FSWatcher;c.start(n,r,o,a);if(s){c.addListener("change",s)}return c}}t.Volume=Volume;Volume.fd=2147483647;function emitStop(e){e.emit("stop")}class StatWatcher extends p.EventEmitter{constructor(e){super();this.onInterval=()=>{try{const e=this.vol.statSync(this.filename);if(this.hasChanged(e)){this.emit("change",e,this.prev);this.prev=e}}finally{this.loop()}};this.vol=e}loop(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)}hasChanged(e){if(e.mtimeMs>this.prev.mtimeMs)return true;if(e.nlink!==this.prev.nlink)return true;return false}start(e,t=true,s=5007){this.filename=(0,R.pathToFilename)(e);this.setTimeout=t?setTimeout.bind(typeof globalThis!=="undefined"?globalThis:global):h.default;this.interval=s;this.prev=this.vol.statSync(this.filename);this.loop()}stop(){clearTimeout(this.timeoutRef);(0,l.default)((()=>{emitStop.call(this,this)}))}}t.StatWatcher=StatWatcher;var te;function allocNewPool(e){te=(0,a.bufferAllocUnsafe)(e);te.used=0}y.inherits(FsReadStream,d.Readable);t.ReadStream=FsReadStream;function FsReadStream(e,t,s){if(!(this instanceof FsReadStream))return new FsReadStream(e,t,s);this._vol=e;s=Object.assign({},(0,w.getOptions)(s,{}));if(s.highWaterMark===undefined)s.highWaterMark=64*1024;d.Readable.call(this,s);this.path=(0,R.pathToFilename)(t);this.fd=s.fd===undefined?null:s.fd;this.flags=s.flags===undefined?"r":s.flags;this.mode=s.mode===undefined?438:s.mode;this.start=s.start;this.end=s.end;this.autoClose=s.autoClose===undefined?true:s.autoClose;this.pos=undefined;this.bytesRead=0;if(this.start!==undefined){if(typeof this.start!=="number"){throw new TypeError('"start" option must be a Number')}if(this.end===undefined){this.end=Infinity}else if(typeof this.end!=="number"){throw new TypeError('"end" option must be a Number')}if(this.start>this.end){throw new Error('"start" option must be <= "end" option')}this.pos=this.start}if(typeof this.fd!=="number")this.open();this.on("end",(function(){if(this.autoClose){if(this.destroy)this.destroy()}}))}FsReadStream.prototype.open=function(){var e=this;this._vol.open(this.path,this.flags,this.mode,((t,s)=>{if(t){if(e.autoClose){if(e.destroy)e.destroy()}e.emit("error",t);return}e.fd=s;e.emit("open",s);e.read()}))};FsReadStream.prototype._read=function(e){if(typeof this.fd!=="number"){return this.once("open",(function(){this._read(e)}))}if(this.destroyed)return;if(!te||te.length-te.used<W){allocNewPool(this._readableState.highWaterMark)}var t=te;var s=Math.min(te.length-te.used,e);var n=te.used;if(this.pos!==undefined)s=Math.min(this.end-this.pos+1,s);if(s<=0)return this.push(null);var i=this;this._vol.read(this.fd,te,te.used,s,this.pos,onread);if(this.pos!==undefined)this.pos+=s;te.used+=s;function onread(e,s){if(e){if(i.autoClose&&i.destroy){i.destroy()}i.emit("error",e)}else{var r=null;if(s>0){i.bytesRead+=s;r=t.slice(n,n+s)}i.push(r)}}};FsReadStream.prototype._destroy=function(e,t){this.close((s=>{t(e||s)}))};FsReadStream.prototype.close=function(e){var t;if(e)this.once("close",e);if(this.closed||typeof this.fd!=="number"){if(typeof this.fd!=="number"){this.once("open",closeOnOpen);return}return(0,l.default)((()=>this.emit("close")))}if(typeof((t=this._readableState)===null||t===void 0?void 0:t.closed)==="boolean"){this._readableState.closed=true}else{this.closed=true}this._vol.close(this.fd,(e=>{if(e)this.emit("error",e);else this.emit("close")}));this.fd=null};function closeOnOpen(e){this.close()}y.inherits(FsWriteStream,d.Writable);t.WriteStream=FsWriteStream;function FsWriteStream(e,t,s){if(!(this instanceof FsWriteStream))return new FsWriteStream(e,t,s);this._vol=e;s=Object.assign({},(0,w.getOptions)(s,{}));d.Writable.call(this,s);this.path=(0,R.pathToFilename)(t);this.fd=s.fd===undefined?null:s.fd;this.flags=s.flags===undefined?"w":s.flags;this.mode=s.mode===undefined?438:s.mode;this.start=s.start;this.autoClose=s.autoClose===undefined?true:!!s.autoClose;this.pos=undefined;this.bytesWritten=0;this.pending=true;if(this.start!==undefined){if(typeof this.start!=="number"){throw new TypeError('"start" option must be a Number')}if(this.start<0){throw new Error('"start" must be >= zero')}this.pos=this.start}if(s.encoding)this.setDefaultEncoding(s.encoding);if(typeof this.fd!=="number")this.open();this.once("finish",(function(){if(this.autoClose){this.close()}}))}FsWriteStream.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(e,t){if(e){if(this.autoClose&&this.destroy){this.destroy()}this.emit("error",e);return}this.fd=t;this.pending=false;this.emit("open",t)}.bind(this))};FsWriteStream.prototype._write=function(e,t,s){if(!(e instanceof a.Buffer||e instanceof Uint8Array))return this.emit("error",new Error("Invalid data"));if(typeof this.fd!=="number"){return this.once("open",(function(){this._write(e,t,s)}))}var n=this;this._vol.write(this.fd,e,0,e.length,this.pos,((e,t)=>{if(e){if(n.autoClose&&n.destroy){n.destroy()}return s(e)}n.bytesWritten+=t;s()}));if(this.pos!==undefined)this.pos+=e.length};FsWriteStream.prototype._writev=function(e,t){if(typeof this.fd!=="number"){return this.once("open",(function(){this._writev(e,t)}))}const s=this;const n=e.length;const i=new Array(n);var r=0;for(var o=0;o<n;o++){var c=e[o].chunk;i[o]=c;r+=c.length}const l=a.Buffer.concat(i);this._vol.write(this.fd,l,0,l.length,this.pos,((e,n)=>{if(e){if(s.destroy)s.destroy();return t(e)}s.bytesWritten+=n;t()}));if(this.pos!==undefined)this.pos+=r};FsWriteStream.prototype.close=function(e){var t;if(e)this.once("close",e);if(this.closed||typeof this.fd!=="number"){if(typeof this.fd!=="number"){this.once("open",closeOnOpen);return}return(0,l.default)((()=>this.emit("close")))}if(typeof((t=this._writableState)===null||t===void 0?void 0:t.closed)==="boolean"){this._writableState.closed=true}else{this.closed=true}this._vol.close(this.fd,(e=>{if(e)this.emit("error",e);else this.emit("close")}));this.fd=null};FsWriteStream.prototype._destroy=FsReadStream.prototype._destroy;FsWriteStream.prototype.destroySoon=FsWriteStream.prototype.end;class FSWatcher extends p.EventEmitter{constructor(e){super();this._filename="";this._filenameEncoded="";this._recursive=false;this._encoding=m.ENCODING_UTF8;this._listenerRemovers=new Map;this._onParentChild=e=>{if(e.getName()===this._getName()){this._emit("rename")}};this._emit=e=>{this.emit("change",e,this._filenameEncoded)};this._persist=()=>{this._timer=setTimeout(this._persist,1e6)};this._vol=e}_getName(){return this._steps[this._steps.length-1]}start(e,t=true,s=false,n=m.ENCODING_UTF8){this._filename=(0,R.pathToFilename)(e);this._steps=filenameToSteps(this._filename);this._filenameEncoded=(0,m.strToEncoding)(this._filename);this._recursive=s;this._encoding=n;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(e){const t=new Error(`watch ${this._filename} ${e.code}`);t.code=e.code;t.errno=e.code;throw t}const watchLinkNodeChanged=e=>{var t;const s=e.getPath();const n=e.getNode();const onNodeChange=()=>{let e=M(this._filename,s);if(!e){e=this._getName()}return this.emit("change","change",e)};n.on("change",onNodeChange);const i=(t=this._listenerRemovers.get(n.ino))!==null&&t!==void 0?t:[];i.push((()=>n.removeListener("change",onNodeChange)));this._listenerRemovers.set(n.ino,i)};const watchLinkChildrenChanged=e=>{var t;const n=e.getNode();const onLinkChildAdd=e=>{this.emit("change","rename",M(this._filename,e.getPath()));setTimeout((()=>{watchLinkNodeChanged(e);watchLinkChildrenChanged(e)}))};const onLinkChildDelete=e=>{const removeLinkNodeListeners=e=>{const t=e.getNode().ino;const s=this._listenerRemovers.get(t);if(s){s.forEach((e=>e()));this._listenerRemovers.delete(t)}for(const[t,s]of e.children.entries()){if(s&&t!=="."&&t!==".."){removeLinkNodeListeners(s)}}};removeLinkNodeListeners(e);this.emit("change","rename",M(this._filename,e.getPath()))};for(const[t,s]of e.children.entries()){if(s&&t!=="."&&t!==".."){watchLinkNodeChanged(s)}}e.on("child:add",onLinkChildAdd);e.on("child:delete",onLinkChildDelete);const i=(t=this._listenerRemovers.get(n.ino))!==null&&t!==void 0?t:[];i.push((()=>{e.removeListener("child:add",onLinkChildAdd);e.removeListener("child:delete",onLinkChildDelete)}));if(s){for(const[t,s]of e.children.entries()){if(s&&t!=="."&&t!==".."){watchLinkChildrenChanged(s)}}}};watchLinkNodeChanged(this._link);watchLinkChildrenChanged(this._link);const i=this._link.parent;if(i){i.setMaxListeners(i.getMaxListeners()+1);i.on("child:delete",this._onParentChild)}if(t)this._persist()}close(){clearTimeout(this._timer);this._listenerRemovers.forEach((e=>{e.forEach((e=>e()))}));this._listenerRemovers.clear();const e=this._link.parent;if(e){e.removeListener("child:delete",this._onParentChild)}}}t.FSWatcher=FSWatcher},8772:(e,t,s)=>{
/*!
 * on-finished
 * Copyright(c) 2013 Jonathan Ong
 * Copyright(c) 2014 Douglas Christopher Wilson
 * MIT Licensed
 */
e.exports=onFinished;e.exports.isFinished=isFinished;var n=tryRequireAsyncHooks();var i=s(2261);var r=typeof setImmediate==="function"?setImmediate:function(e){process.nextTick(e.bind.apply(e,arguments))};function onFinished(e,t){if(isFinished(e)!==false){r(t,null,e);return e}attachListener(e,wrap(t));return e}function isFinished(e){var t=e.socket;if(typeof e.finished==="boolean"){return Boolean(e.finished||t&&!t.writable)}if(typeof e.complete==="boolean"){return Boolean(e.upgrade||!t||!t.readable||e.complete&&!e.readable)}return undefined}function attachFinishedListener(e,t){var s;var n;var r=false;function onFinish(e){s.cancel();n.cancel();r=true;t(e)}s=n=i([[e,"end","finish"]],onFinish);function onSocket(t){e.removeListener("socket",onSocket);if(r)return;if(s!==n)return;n=i([[t,"error","close"]],onFinish)}if(e.socket){onSocket(e.socket);return}e.on("socket",onSocket);if(e.socket===undefined){patchAssignSocket(e,onSocket)}}function attachListener(e,t){var s=e.__onFinished;if(!s||!s.queue){s=e.__onFinished=createListener(e);attachFinishedListener(e,s)}s.queue.push(t)}function createListener(e){function listener(t){if(e.__onFinished===listener)e.__onFinished=null;if(!listener.queue)return;var s=listener.queue;listener.queue=null;for(var n=0;n<s.length;n++){s[n](t,e)}}listener.queue=[];return listener}function patchAssignSocket(e,t){var s=e.assignSocket;if(typeof s!=="function")return;e.assignSocket=function _assignSocket(e){s.call(this,e);t(e)}}function tryRequireAsyncHooks(){try{return s(852)}catch(e){return{}}}function wrap(e){var t;if(n.AsyncResource){t=new n.AsyncResource(e.name||"bound-anonymous-fn")}if(!t||!t.runInAsyncScope){return e}return t.runInAsyncScope.bind(t,e,null)}},2395:e=>{
/*!
 * range-parser
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015-2016 Douglas Christopher Wilson
 * MIT Licensed
 */
e.exports=rangeParser;function rangeParser(e,t,s){if(typeof t!=="string"){throw new TypeError("argument str must be a string")}var n=t.indexOf("=");if(n===-1){return-2}var i=t.slice(n+1).split(",");var r=[];r.type=t.slice(0,n);for(var o=0;o<i.length;o++){var a=i[o].split("-");var c=parseInt(a[0],10);var l=parseInt(a[1],10);if(isNaN(c)){c=e-l;l=e-1}else if(isNaN(l)){l=e-1}if(l>e-1){l=e-1}if(isNaN(c)||isNaN(l)||c>l||c<0){continue}r.push({start:c,end:l})}if(r.length<1){return-1}return s&&s.combine?combineRanges(r):r}function combineRanges(e){var t=e.map(mapWithIndex).sort(sortByRangeStart);for(var s=0,n=1;n<t.length;n++){var i=t[n];var r=t[s];if(i.start>r.end+1){t[++s]=i}else if(i.end>r.end){r.end=i.end;r.index=Math.min(r.index,i.index)}}t.length=s+1;var o=t.sort(sortByRangeIndex).map(mapWithoutIndex);o.type=e.type;return o}function mapWithIndex(e,t){return{start:e.start,end:e.end,index:t}}function mapWithoutIndex(e){return{start:e.start,end:e.end}}function sortByRangeIndex(e,t){return e.index-t.index}function sortByRangeStart(e,t){return e.start-t.start}},8554:(e,t,s)=>{const{validate:n}=s(5014);const i=s(1989);const r=s(4631);const o=s(6952);const a=s(3644);const c=s(2927);const l=s(1474);const f=s(1182);const h=s(9311);const noop=()=>{};function wdm(e,t={}){n(h,t,{name:"Dev Middleware",baseDataPath:"options"});const{mimeTypes:s}=t;if(s){const{types:e}=i;i.types={...e,...s}}const d={state:false,stats:undefined,callbacks:[],options:t,compiler:e,logger:e.getInfrastructureLogger("webpack-dev-middleware")};a(d);if(t.writeToDisk){c(d)}l(d);if(d.compiler.watching){d.watching=d.compiler.watching}else{const errorHandler=e=>{if(e){d.logger.error(e)}};if(Array.isArray(d.compiler.compilers)){const e=d.compiler;const t=e.compilers.map((e=>e.options.watchOptions||{}));d.watching=e.watch(t,errorHandler)}else{const e=d.compiler;const t=e.options.watchOptions||{};d.watching=e.watch(t,errorHandler)}}const u=d;const p=r(u);p.getFilenameFromUrl=(e,t)=>o(u,e,t);p.waitUntilValid=(e=noop)=>{f(u,e)};p.invalidate=(e=noop)=>{f(u,e);u.watching.invalidate()};p.close=(e=noop)=>{u.watching.close(e)};p.context=u;return p}e.exports=wdm},4631:(e,t,s)=>{const n=s(1017);const i=s(1989);const r=s(6952);const{getHeaderFromRequest:o,getHeaderFromResponse:a,setHeaderForResponse:c,setStatusCode:l,send:f,sendError:h}=s(8470);const d=s(1182);function getValueContentRangeHeader(e,t,s){return`${e} ${s?`${s.start}-${s.end}`:"*"}/${t}`}const u=/^ *bytes/i;function wrapper(e){return async function middleware(t,p,m){const g=e.options.methods||["GET","HEAD"];p.locals=p.locals||{};if(t.method&&!g.includes(t.method)){await goNext();return}d(e,processRequest,t);async function goNext(){if(!e.options.serverSideRender){return m()}return new Promise((s=>{d(e,(()=>{p.locals.webpack={devMiddleware:e};s(m())}),t)}))}async function processRequest(){const d={};const m=r(e,t.url,d);if(d.errorCode){if(d.errorCode===403){e.logger.error(`Malicious path "${m}".`)}h(t,p,d.errorCode,{modifyResponseData:e.options.modifyResponseData});return}if(!m){await goNext();return}let{headers:g}=e.options;if(typeof g==="function"){g=g(t,p,e)}const y=[];if(typeof g!=="undefined"){if(!Array.isArray(g)){for(const e in g){y.push({key:e,value:g[e]})}g=y}g.forEach((e=>{c(p,e.key,e.value)}))}if(!a(p,"Content-Type")){const t=i.contentType(n.extname(m));if(t){c(p,"Content-Type",t)}else if(e.options.mimeTypeDefault){c(p,"Content-Type",e.options.mimeTypeDefault)}}if(!a(p,"Accept-Ranges")){c(p,"Accept-Ranges","bytes")}const b=o(t,"range");let _=d.stats.size;let S=0;if(b&&u.test(b)){const n=s(2395)(_,b,{combine:true});if(n===-1){e.logger.error("Unsatisfiable range for 'Range' header.");c(p,"Content-Range",getValueContentRangeHeader("bytes",_));h(t,p,416,{headers:{"Content-Range":p.getHeader("Content-Range")},modifyResponseData:e.options.modifyResponseData});return}else if(n===-2){e.logger.error("A malformed 'Range' header was provided. A regular response will be sent for this request.")}else if(n.length>1){e.logger.error("A 'Range' header with multiple ranges was provided. Multiple ranges are not supported, so a regular response will be sent for this request.")}if(n!==-2&&n.length===1){l(p,206);c(p,"Content-Range",getValueContentRangeHeader("bytes",_,n[0]));S+=n[0].start;_=n[0].end-n[0].start+1}}const w=S;const R=Math.max(S,S+_-1);f(t,p,m,w,R,goNext,{modifyResponseData:e.options.modifyResponseData,outputFileSystem:e.outputFileSystem})}}}e.exports=wrapper},8470:(e,t,s)=>{const n=s(8772);const i=s(8871);function getHeaderNames(e){if(typeof e.getHeaderNames!=="function"){return Object.keys(e._headers||{})}return e.getHeaderNames()}function getHeaderFromRequest(e,t){if(typeof e.get==="function"){return e.get(t)}return e.headers[t]}function getHeaderFromResponse(e,t){if(typeof e.get==="function"){return e.get(t)}return e.getHeader(t)}function setHeaderForResponse(e,t,s){if(typeof e.set==="function"){e.set(t,typeof s==="number"?String(s):s);return}e.setHeader(t,s)}function setHeadersForResponse(e,t){const s=Object.keys(t);for(let n=0;n<s.length;n++){const i=s[n];const r=t[i];if(typeof r!=="undefined"){setHeaderForResponse(e,i,r)}}}function clearHeadersForResponse(e){const t=getHeaderNames(e);for(let s=0;s<t.length;s++){e.removeHeader(t[s])}}function setStatusCode(e,t){if(typeof e.status==="function"){e.status(t);return}e.statusCode=t}function destroyStream(e,t){if(typeof e.destroy==="function"){e.destroy()}if(typeof e.close==="function"){e.on("open",(function onOpenClose(){if(typeof this.fd==="number"){this.close()}}))}if(typeof e.addListener==="function"&&t){e.removeAllListeners("error");e.addListener("error",(()=>{}))}}const r={400:"Bad Request",403:"Forbidden",404:"Not Found",416:"Range Not Satisfiable",500:"Internal Server Error"};function sendError(e,t,s,n){const o=r[s]||String(s);let a=`<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="utf-8">\n<title>Error</title>\n</head>\n<body>\n<pre>${i(o)}</pre>\n</body>\n</html>`;clearHeadersForResponse(t);if(n&&n.headers){setHeadersForResponse(t,n.headers)}setStatusCode(t,s);setHeaderForResponse(t,"Content-Type","text/html; charset=utf-8");setHeaderForResponse(t,"Content-Security-Policy","default-src 'none'");setHeaderForResponse(t,"X-Content-Type-Options","nosniff");let c=Buffer.byteLength(a);if(n&&n.modifyResponseData){({data:a,byteLength:c}=n.modifyResponseData(e,t,a,c))}setHeaderForResponse(t,"Content-Length",c);t.end(a)}async function send(e,t,s,i,r,o,a){const c=typeof a.outputFileSystem.createReadStream==="function";let l;let f;try{if(c){l=a.outputFileSystem.createReadStream(s,{start:i,end:r});f=r===0?0:r-i+1}else{l=a.outputFileSystem.readFileSync(s);({byteLength:f}=l)}}catch(e){await o();return}if(a.modifyResponseData){({data:l,byteLength:f}=a.modifyResponseData(e,t,l,f))}if(typeof l.pipe==="function"){setHeaderForResponse(t,"Content-Length",f);if(e.method==="HEAD"){t.end();return}l.pipe(t);const cleanup=()=>{destroyStream(l,true)};n(t,cleanup);l.on("error",(s=>{cleanup();switch(s.code){case"ENAMETOOLONG":case"ENOENT":case"ENOTDIR":sendError(e,t,404,a);break;default:sendError(e,t,500,a);break}}));return}if(typeof t.send==="function"){t.send(l);return}t.setHeader("Content-Length",f);if(e.method==="HEAD"){t.end()}else{t.end(l)}}e.exports={getHeaderNames:getHeaderNames,getHeaderFromRequest:getHeaderFromRequest,getHeaderFromResponse:getHeaderFromResponse,setHeaderForResponse:setHeaderForResponse,setStatusCode:setStatusCode,send:send,sendError:sendError}},8871:e=>{const t=/["'&<>]/;function escapeHtml(e){const s=`${e}`;const n=t.exec(s);if(!n){return s}let i;let r="";let o=0;let a=0;for(({index:o}=n);o<s.length;o++){switch(s.charCodeAt(o)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}if(a!==o){r+=s.substring(a,o)}a=o+1;r+=i}return a!==o?r+s.substring(a,o):r}e.exports=escapeHtml},6952:(e,t,s)=>{const n=s(1017);const{parse:i}=s(7310);const r=s(3477);const o=s(4702);const a=new WeakMap;const mem=(e,{cache:t=new Map}={},s)=>{const memoized=(...n)=>{const[i]=n;const r=t.get(i);if(r){return r.data}let o=e.apply(void 0,n);o=s(o);t.set(i,{data:o});return o};a.set(memoized,t);return memoized};const c=mem(i,undefined,(e=>{if(e.pathname){e.pathname=decode(e.pathname)}return e}));const l=/(?:^|[\\/])\.\.(?:[\\/]|$)/;function decode(e){return r.unescape(e)}function getFilenameFromUrl(e,t,s={}){const{options:i}=e;const r=o(e);let a;let f;try{f=c(t,false,true)}catch(e){return}for(const{publicPath:t,outputPath:o}of r){let r;let h;try{h=c(t!=="auto"&&t?t:"/",false,true)}catch(e){continue}const{pathname:d}=f;const{pathname:u}=h;if(d&&d.startsWith(u)){if(d.includes("\0")){s.errorCode=400;return}if(l.test(n.normalize(`./${d}`))){s.errorCode=403;return}r=n.join(o,d.slice(u.length));try{s.stats=e.outputFileSystem.statSync(r)}catch(e){continue}if(s.stats.isFile()){a=r;break}else if(s.stats.isDirectory()&&(typeof i.index==="undefined"||i.index)){const t=typeof i.index==="undefined"||typeof i.index==="boolean"?"index.html":i.index;r=n.join(r,t);try{s.stats=e.outputFileSystem.statSync(r)}catch(e){continue}if(s.stats.isFile()){a=r;break}}}}return a}e.exports=getFilenameFromUrl},4702:e=>{function getPaths(e){const{stats:t,options:s}=e;const n=t.stats?t.stats:[t];const i=[];for(const{compilation:e}of n){const t=e.getPath(e.outputOptions.path||"");const n=s.publicPath?e.getPath(s.publicPath):e.outputOptions.publicPath?e.getPath(e.outputOptions.publicPath):"";i.push({outputPath:t,publicPath:n})}return i}e.exports=getPaths},1182:e=>{function ready(e,t,s){if(e.state){t(e.stats);return}const n=s&&s.url||t.name;e.logger.info(`wait until bundle finished${n?`: ${n}`:""}`);e.callbacks.push(t)}e.exports=ready},3644:(e,t,s)=>{function setupHooks(e){function invalid(){if(e.state){e.logger.log("Compilation starting...")}e.state=false;e.stats=undefined}function normalizeStatsOptions(e){if(typeof e==="undefined"){e={preset:"normal"}}else if(typeof e==="boolean"){e=e?{preset:"normal"}:{preset:"none"}}else if(typeof e==="string"){e={preset:e}}return e}function done(t){e.state=true;e.stats=t;process.nextTick((()=>{const{compiler:n,logger:i,options:r,state:o,callbacks:a}=e;if(!o){return}i.log("Compilation finished");const c=Boolean(n.compilers);let l;if(typeof r.stats!=="undefined"){l=c?{children:n.compilers.map((()=>r.stats))}:r.stats}else{l=c?{children:n.compilers.map((e=>e.options.stats))}:n.options.stats}if(c){l.children=l.children.map((e=>{e=normalizeStatsOptions(e);if(typeof e.colors==="undefined"){e.colors=s(1221).$O}return e}))}else{l=normalizeStatsOptions(l);if(typeof l.colors==="undefined"){l.colors=s(1221).$O}}const f=t.toString(l);if(f){console.log(f)}e.callbacks=[];a.forEach((e=>{e(t)}))}))}const t=e.compiler;t.hooks.watchRun.tap("webpack-dev-middleware",invalid);t.hooks.invalid.tap("webpack-dev-middleware",invalid);t.hooks.done.tap("webpack-dev-middleware",done)}e.exports=setupHooks},1474:(e,t,s)=>{const n=s(4465);function setupOutputFileSystem(e){let t;if(e.options.outputFileSystem){const{outputFileSystem:s}=e.options;t=s}else if(e.options.writeToDisk!==true){t=n.createFsFromVolume(new n.Volume)}else{const s=e.compiler.compilers;if(s){const s=e.compiler.compilers.filter((e=>Object.prototype.hasOwnProperty.call(e.options,"devServer")));({outputFileSystem:t}=s[0]||e.compiler.compilers[0])}else{({outputFileSystem:t}=e.compiler)}}const s=e.compiler.compilers||[e.compiler];for(const e of s){e.outputFileSystem=t}e.outputFileSystem=t}e.exports=setupOutputFileSystem},2927:(e,t,s)=>{const n=s(7147);const i=s(1017);function setupWriteToDisk(e){const t=e.compiler.compilers||[e.compiler];for(const s of t){s.hooks.emit.tap("DevMiddleware",(()=>{if(s.hasWebpackDevMiddlewareAssetEmittedCallback){return}s.hooks.assetEmitted.tapAsync("DevMiddleware",((t,r,o)=>{const{targetPath:a,content:c}=r;const{writeToDisk:l}=e.options;const f=l&&typeof l==="function"?l(a):true;if(!f){return o()}const h=i.dirname(a);const d=s.options.name?`Child "${s.options.name}": `:"";return n.mkdir(h,{recursive:true},(t=>{if(t){e.logger.error(`${d}Unable to write "${h}" directory to disk:\n${t}`);return o(t)}return n.writeFile(a,c,(t=>{if(t){e.logger.error(`${d}Unable to write "${a}" asset to disk:\n${t}`);return o(t)}e.logger.log(`${d}Asset written to disk: "${a}"`);return o()}))}))}));s.hasWebpackDevMiddlewareAssetEmittedCallback=true}))}}e.exports=setupWriteToDisk},1989:e=>{e.exports=require("../mime-types")},5014:e=>{e.exports=require("./schema-utils")},9491:e=>{e.exports=require("assert")},852:e=>{e.exports=require("async_hooks")},4300:e=>{e.exports=require("buffer")},2361:e=>{e.exports=require("events")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},7282:e=>{e.exports=require("process")},3477:e=>{e.exports=require("querystring")},2781:e=>{e.exports=require("stream")},6224:e=>{e.exports=require("tty")},7310:e=>{e.exports=require("url")},3837:e=>{e.exports=require("util")},1221:(e,t,s)=>{var n;n={value:true};var i=s(6224);function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);if(e){Object.keys(e).forEach((function(s){if(s!=="default"){var n=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(t,s,n.get?n:{enumerable:true,get:function(){return e[s]}})}}))}t["default"]=e;return Object.freeze(t)}var r=_interopNamespace(i);const{env:o={},argv:a=[],platform:c=""}=typeof process==="undefined"?{}:process;const l="NO_COLOR"in o||a.includes("--no-color");const f="FORCE_COLOR"in o||a.includes("--color");const h=c==="win32";const d=o.TERM==="dumb";const u=r&&r.isatty&&r.isatty(1)&&o.TERM&&!d;const p="CI"in o&&("GITHUB_ACTIONS"in o||"GITLAB_CI"in o||"CIRCLECI"in o);const m=!l&&(f||h&&!d||u||p);const replaceClose=(e,t,s,n,i=t.substring(0,e)+n,r=t.substring(e+s.length),o=r.indexOf(s))=>i+(o<0?r:replaceClose(o,r,s,n));const clearBleed=(e,t,s,n,i)=>e<0?s+t+n:s+replaceClose(e,t,n,i)+n;const filterEmpty=(e,t,s=e,n=e.length+1)=>i=>i||!(i===""||i===undefined)?clearBleed((""+i).indexOf(t,n),i,e,t,s):"";const init=(e,t,s)=>filterEmpty(`[${e}m`,`[${t}m`,s);const g={reset:init(0,0),bold:init(1,22,"[22m[1m"),dim:init(2,22,"[22m[2m"),italic:init(3,23),underline:init(4,24),inverse:init(7,27),hidden:init(8,28),strikethrough:init(9,29),black:init(30,39),red:init(31,39),green:init(32,39),yellow:init(33,39),blue:init(34,39),magenta:init(35,39),cyan:init(36,39),white:init(37,39),gray:init(90,39),bgBlack:init(40,49),bgRed:init(41,49),bgGreen:init(42,49),bgYellow:init(43,49),bgBlue:init(44,49),bgMagenta:init(45,49),bgCyan:init(46,49),bgWhite:init(47,49),blackBright:init(90,39),redBright:init(91,39),greenBright:init(92,39),yellowBright:init(93,39),blueBright:init(94,39),magentaBright:init(95,39),cyanBright:init(96,39),whiteBright:init(97,39),bgBlackBright:init(100,49),bgRedBright:init(101,49),bgGreenBright:init(102,49),bgYellowBright:init(103,49),bgBlueBright:init(104,49),bgMagentaBright:init(105,49),bgCyanBright:init(106,49),bgWhiteBright:init(107,49)};const createColors=({useColor:e=m}={})=>e?g:Object.keys(g).reduce(((e,t)=>({...e,[t]:String})),{});const{reset:y,bold:b,dim:_,italic:S,underline:w,inverse:R,hidden:F,strikethrough:T,black:O,red:k,green:v,yellow:N,blue:A,magenta:I,cyan:C,white:B,gray:L,bgBlack:D,bgRed:P,bgGreen:x,bgYellow:M,bgBlue:U,bgMagenta:$,bgCyan:W,bgWhite:H,blackBright:G,redBright:j,greenBright:V,yellowBright:q,blueBright:Y,magentaBright:K,cyanBright:J,whiteBright:X,bgBlackBright:z,bgRedBright:Z,bgGreenBright:Q,bgYellowBright:ee,bgBlueBright:te,bgMagentaBright:se,bgCyanBright:ne,bgWhiteBright:ie}=createColors();n=D;n=z;n=U;n=te;n=W;n=ne;n=x;n=Q;n=$;n=se;n=P;n=Z;n=H;n=ie;n=M;n=ee;n=O;n=G;n=A;n=Y;n=b;n=createColors;n=C;n=J;n=_;n=L;n=v;n=V;n=F;n=R;t.$O=m;n=S;n=I;n=K;n=k;n=j;n=y;n=T;n=w;n=B;n=X;n=N;n=q},9311:e=>{e.exports=JSON.parse('{"type":"object","properties":{"mimeTypes":{"description":"Allows a user to register custom mime types or extension mappings.","link":"https://github.com/webpack/webpack-dev-middleware#mimetypes","type":"object"},"mimeTypeDefault":{"description":"Allows a user to register a default mime type when we can\'t determine the content type.","link":"https://github.com/webpack/webpack-dev-middleware#mimetypedefault","type":"string"},"writeToDisk":{"description":"Allows to write generated files on disk.","link":"https://github.com/webpack/webpack-dev-middleware#writetodisk","anyOf":[{"type":"boolean"},{"instanceof":"Function"}]},"methods":{"description":"Allows to pass the list of HTTP request methods accepted by the middleware.","link":"https://github.com/webpack/webpack-dev-middleware#methods","type":"array","items":{"type":"string","minLength":1}},"headers":{"anyOf":[{"type":"array","items":{"type":"object","additionalProperties":false,"properties":{"key":{"description":"key of header.","type":"string"},"value":{"description":"value of header.","type":"string"}}},"minItems":1},{"type":"object"},{"instanceof":"Function"}],"description":"Allows to pass custom HTTP headers on each request","link":"https://github.com/webpack/webpack-dev-middleware#headers"},"publicPath":{"description":"The `publicPath` specifies the public URL address of the output files when referenced in a browser.","link":"https://github.com/webpack/webpack-dev-middleware#publicpath","anyOf":[{"enum":["auto"]},{"type":"string"},{"instanceof":"Function"}]},"stats":{"description":"Stats options object or preset name.","link":"https://github.com/webpack/webpack-dev-middleware#stats","anyOf":[{"enum":["none","summary","errors-only","errors-warnings","minimal","normal","detailed","verbose"]},{"type":"boolean"},{"type":"object","additionalProperties":true}]},"serverSideRender":{"description":"Instructs the module to enable or disable the server-side rendering mode.","link":"https://github.com/webpack/webpack-dev-middleware#serversiderender","type":"boolean"},"outputFileSystem":{"description":"Set the default file system which will be used by webpack as primary destination of generated files.","link":"https://github.com/webpack/webpack-dev-middleware#outputfilesystem","type":"object"},"index":{"description":"Allows to serve an index of the directory.","link":"https://github.com/webpack/webpack-dev-middleware#index","anyOf":[{"type":"boolean"},{"type":"string","minLength":1}]},"modifyResponseData":{"description":"Allows to set up a callback to change the response data.","link":"https://github.com/webpack/webpack-dev-middleware#modifyresponsedata","instanceof":"Function"}},"additionalProperties":false}')}};var t={};function __nccwpck_require__(s){var n=t[s];if(n!==undefined){return n.exports}var i=t[s]={exports:{}};var r=true;try{e[s](i,i.exports,__nccwpck_require__);r=false}finally{if(r)delete t[s]}return i.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var s=__nccwpck_require__(8554);module.exports=s})();