// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`webpackConfig > should allow to append and prepend plugins 1`] = `
[
  DefinePlugin {
    "definitions": {
      "foo": "2",
    },
  },
  HotModuleReplacementPlugin {
    "options": {},
  },
  MiniCssExtractPlugin {
    "_sortedModulesCache": WeakMap {},
    "options": {
      "chunkFilename": "static/css/async/[name].css",
      "experimentalUseImportModule": undefined,
      "filename": "static/css/[name].css",
      "ignoreOrder": true,
      "runtime": true,
    },
    "runtimeOptions": {
      "attributes": undefined,
      "insert": undefined,
      "linkType": "text/css",
    },
  },
  HtmlWebpackPlugin {
    "options": {
      "base": false,
      "cache": true,
      "chunks": [
        "index",
      ],
      "chunksSortMode": "auto",
      "compile": true,
      "entryName": "index",
      "excludeChunks": [],
      "favicon": false,
      "filename": "index.html",
      "hash": false,
      "inject": "head",
      "meta": {
        "charset": {
          "charset": "UTF-8",
        },
        "viewport": "width=device-width, initial-scale=1.0",
      },
      "minify": false,
      "publicPath": "auto",
      "scriptLoading": "defer",
      "showErrors": true,
      "template": "<ROOT>/packages/core/static/template.html",
      "templateContent": false,
      "templateParameters": [Function],
      "title": "Rsbuild App",
      "xhtml": false,
    },
    "userOptions": {
      "chunks": [
        "index",
      ],
      "entryName": "index",
      "filename": "index.html",
      "inject": "head",
      "meta": {
        "charset": {
          "charset": "UTF-8",
        },
        "viewport": "width=device-width, initial-scale=1.0",
      },
      "minify": false,
      "scriptLoading": "defer",
      "template": "<ROOT>/packages/core/static/template.html",
      "templateParameters": [Function],
      "title": "Rsbuild App",
    },
    "version": 5,
  },
  HtmlBasicPlugin {
    "environment": {
      "browserslist": [
        "chrome >= 87",
        "edge >= 88",
        "firefox >= 78",
        "safari >= 14",
      ],
      "distPath": "<ROOT>/packages/compat/webpack/tests/dist",
      "entry": {
        "index": "src/index.js",
      },
      "htmlPaths": {
        "index": "index.html",
      },
      "index": 0,
      "name": "web",
      "normalizedConfig": {
        "dev": {
          "assetPrefix": "/",
          "client": {
            "host": "",
            "overlay": true,
            "path": "/rsbuild-hmr",
            "port": "",
          },
          "hmr": true,
          "lazyCompilation": undefined,
          "liveReload": true,
          "writeToDisk": false,
        },
        "html": {
          "crossorigin": false,
          "inject": "head",
          "meta": {
            "charset": {
              "charset": "UTF-8",
            },
            "viewport": "width=device-width, initial-scale=1.0",
          },
          "mountId": "root",
          "outputStructure": "flat",
          "scriptLoading": "defer",
          "title": "Rsbuild App",
        },
        "output": {
          "assetPrefix": "/",
          "charset": "ascii",
          "cssModules": {
            "auto": true,
            "exportGlobals": false,
            "exportLocalsConvention": "camelCase",
            "namedExport": false,
          },
          "dataUriLimit": {
            "font": 4096,
            "image": 4096,
            "media": 4096,
            "svg": 4096,
          },
          "distPath": {
            "css": "static/css",
            "font": "static/font",
            "html": "/",
            "image": "static/image",
            "js": "static/js",
            "media": "static/media",
            "root": "dist",
            "svg": "static/svg",
            "wasm": "static/wasm",
          },
          "emitAssets": true,
          "filename": {},
          "filenameHash": true,
          "injectStyles": false,
          "inlineScripts": false,
          "inlineStyles": false,
          "legalComments": "linked",
          "manifest": false,
          "minify": true,
          "polyfill": "usage",
          "sourceMap": {
            "css": false,
            "js": undefined,
          },
          "target": "web",
        },
        "performance": {
          "buildCache": true,
          "chunkSplit": {
            "strategy": "split-by-experience",
          },
          "printFileSize": true,
          "profile": false,
          "removeConsole": false,
          "removeMomentLocale": false,
        },
        "security": {
          "nonce": "",
          "sri": {
            "enable": false,
          },
        },
        "server": {
          "compress": true,
          "host": "0.0.0.0",
          "htmlFallback": "index",
          "open": false,
          "port": 3000,
          "printUrls": true,
          "strictPort": false,
        },
        "source": {
          "alias": {},
          "aliasStrategy": "prefer-tsconfig",
          "decorators": {
            "version": "2022-03",
          },
          "define": {},
          "entry": {
            "index": "src/index.js",
          },
          "preEntry": [],
          "tsconfigPath": "<ROOT>/packages/compat/webpack/tests/tsconfig.json",
        },
        "tools": {
          "cssExtract": {
            "loaderOptions": {},
            "pluginOptions": {
              "ignoreOrder": true,
            },
          },
          "webpack": [Function],
        },
      },
      "target": "web",
      "tsconfigPath": "<ROOT>/packages/compat/webpack/tests/tsconfig.json",
    },
    "modifyTagsFn": [Function],
    "name": "HtmlBasicPlugin",
    "options": {
      "index": {},
    },
  },
  DefinePlugin {
    "definitions": {
      "process.env.ASSET_PREFIX": """",
      "process.env.NODE_ENV": ""test"",
    },
  },
  ProgressPlugin {
    "compileTime": null,
    "dependenciesCount": 10000,
    "handler": [Function],
    "hasCompileErrors": false,
    "id": "web",
    "modulesCount": 5000,
    "name": "ProgressPlugin",
    "percentBy": null,
    "profile": false,
    "showActiveModules": false,
    "showDependencies": true,
    "showEntries": true,
    "showModules": true,
  },
  DefinePlugin {
    "definitions": {
      "foo": "1",
    },
  },
]
`;

exports[`webpackConfig > should allow to use tools.webpackChain to modify config 1`] = `
{
  "devtool": "eval",
}
`;

exports[`webpackConfig > should allow tools.webpack to be an array 1`] = `
{
  "devtool": "source-map",
}
`;

exports[`webpackConfig > should allow tools.webpack to be an object 1`] = `
{
  "devtool": "eval",
}
`;

exports[`webpackConfig > should allow tools.webpack to modify config object 1`] = `
{
  "devtool": "eval-cheap-source-map",
}
`;

exports[`webpackConfig > should allow tools.webpack to return config 1`] = `
{
  "devtool": "eval",
}
`;

exports[`webpackConfig > should allow tools.webpackChain to be an array 1`] = `
{
  "devtool": "source-map",
}
`;

exports[`webpackConfig > should provide mergeConfig util in tools.webpack function 1`] = `
{
  "devtool": "eval",
}
`;
