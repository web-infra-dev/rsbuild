---
extractApiHeaders: [2]
---

# Rsbuild Core

This section describes some of the core methods provided by Rsbuild.

## createRsbuild

Create a Rsbuild instance object.

```ts
import { createRsbuild } from '@rsbuild/core';

const rsbuild = await createRsbuild({
  // options
});
```

### options

The first parameter of `createRsbuild` is a options object, you can pass in the following options:

```ts
type RsbuildEntry = Record<string, string | string[]>;

type RsbuildTarget = 'web' | 'node' | 'web-worker';

type CreateRsbuildOptions = {
  cwd?: string;
  entry?: RsbuildEntry;
  target?: RsbuildTarget | RsbuildTarget[];
  provider?: RsbuildProvider;
  configPath?: string | null;
  rsbuildConfig?: RsbuildConfig;
};
```

Description:

- `cwd`: The root path of the current build, the default value is `process.cwd()`.
- `entry`: Build entry object.
- `target`: Build target type, the default value is `['web']`, see chapter [Build Target](/api/start/build-target.html) for details.
- `configPath`: The path to the config file of higher-level solution (absolute path), this parameter affects the build cache update.
- `provider`: Used to switch the underlying bundler.
- `rsbuildConfig`: Rsbuild configuration object. Rsbuild provides a rich set of configuration options that allow you to customize the build behavior flexibly. You can find all available configuration options in the [Configuration](/config/) section.

### webpackProvider

Rsbuild uses Rspack as the default bundler. You can switch to Webpack packaging by using the `provider` option.

First, install the `@rsbuild/webpack` package:

import { PackageManagerTabs } from '@theme';

<PackageManagerTabs command="add @rsbuild/webpack -D" />

Then, pass `webpackProvider` as the value to the `provider` option. This will automatically switch the underlying bundler of Rsbuild to Webpack.

```ts
import { createRsbuild } from '@rsbuild/core';
import { webpackProvider } from '@rsbuild/webpack';

const rsbuild = await createRsbuild({
  provider: webpackProvider,
  // other options
});
```

## mergeRsbuildConfig

Used to merge multiple Rsbuild configuration objects.

The `mergeRsbuildConfig` function takes multiple configuration objects as parameters. It deep merges each configuration object, automatically combining multiple function values into an array of sequentially executed functions, and returns a merged configuration object.

- **Type**

```ts
function mergeRsbuildConfig(...configs: RsbuildConfig[]): RsbuildConfig;
```

- **Example**

```ts
import { mergeRsbuildConfig } from '@rsbuild/core';

const config1 = {
  dev: {
    https: false,
  },
};
const config2 = {
  dev: {
    https: true,
  },
};

const mergedConfig = mergeRsbuildConfig(config1, config2);

console.log(mergedConfig); // { dev: { https: true } }
```

> This method will not modify the config object in the input parameter.

## webpack

A webpack object for consuming webpack builtin plugins or type definitions.

- **Example**

```ts
import webpack from '@rsbuild/webpack/webpack';

new webpack.DefinePlugin();
```

> In most scenarios, it is recommended to import webpack from Rsbuild instead of manually installing a "webpack" dependency, which can avoid multi-instance problems.

## HtmlWebpackPlugin

HtmlWebpackPlugin object, usually used to implement custom plugins of HtmlWebpackPlugin.

- **Example**

```ts
import HtmlWebpackPlugin from '@rsbuild/webpack/html-webpack-plugin';
```

> In most scenarios, it is recommended to import HtmlWebpackPlugin from Rsbuild instead of manually installing a "html-webpack-plugin" dependency, which can avoid multi-instance problems.
