# Typed CSS Modules Plugin

import { SourceCode } from 'rspress/theme';

<SourceCode href="https://github.com/web-infra-dev/rsbuild/tree/main/packages/plugin-typed-css-modules" />

{/* this plugin is still WIP */}

## Generate exact type definitions

Although the above method can provide the type of CSS Modules, it cannot accurately prompt which classNames are exported by a certain CSS file.

Rsbuild supports generating accurate type declarations for CSS Modules, you only need to enable the output.enableCssModuleTSDeclaration config, and then execute the build, Rsbuild will generate type declaration files for all CSS Modules.

```ts
export default {
  output: {
    enableCssModuleTSDeclaration: true,
  },
};
```

### Example

For example, there are two files `src/index.ts` and `src/index.module.scss` under a certain folder:

```tsx title="src/index.ts"
import styles from './index.module.scss';

export default () => {
  <div>
    <div className={styles.pageHeader}>Page Header</div>
  </div>;
};
```

```scss title="src/index.module.scss"
.page-header {
  color: black;
}
```

After executing the build, the `src/index.module.scss.d.ts` type declaration file will be automatically generated:

```ts title="src/index.module.scss.d.ts"
// This file is automatically generated.
// Please do not change this file!
interface CssExports {
  'page-header': string;
  pageHeader: string;
}
export const cssExports: CssExports;
export default cssExports;
```

Then open the `src/index.ts` file again, you will see that the `styles` object already has a exact type.
