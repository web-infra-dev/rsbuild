---
published_at: 2024-04-10 18:00:00
---

# Rsbuild v0.6 发布

> April 10, 2024

![](https://rsfamily-design-resources.netlify.app/rsbuild/rsbuild-banner-v0-6.png)

主要变更：

- 默认启用 error overlay
- 全新的 transform 插件 API

---

## 默认启用 error overlay

从 Rsbuild v0.6 开始，[dev.client.overlay](/config/dev/client) 的默认值调整为 `true`。这意味着当出现编译错误时，Rsbuild 将默认弹出 error overlay 来展示错误信息：

![](https://rsfamily-design-resources.netlify.app/rsbuild/assets/rsbuild-error-overlay.png)

如果你不需要此功能，可以将 `dev.client.overlay` 设置为 `false` 来禁用：

```ts title="rsbuild.config.ts"
export default defineConfig({
  dev: {
    client: {
      overlay: false,
    },
  },
});
```

---

## 全新的 transform API

Rsbuild 插件现已支持 [transform API](/plugins/dev/core#apitransform)，这可以理解为 Rspack loader 的一个轻量化实现，它提供了简单易用的 API，并在底层自动调用 Rspack loader 进行代码转换。

在 Rsbuild 插件中，你可以通过 `api.transform` 快速实现代码转换功能，能够满足大部分常见场景，而无须学习 Rspack loader 的编写方法。

比如匹配以 .pug 为后缀的模块，并转换为 JavaScript 代码：

```ts
import pug from 'pug';

const pluginPug = () => ({
  name: 'my-pug-plugin',
  setup(api) {
    api.transform({ test: /\.pug$/ }, ({ code }) => {
      const templateCode = pug.compileClient(code, {});
      return `${templateCode}; module.exports = template;`;
    });
  },
});
```

对于一些复杂的代码转换场景，`api.transform` 可能无法满足，此时你可以使用 Rspack loader 进行实现。
