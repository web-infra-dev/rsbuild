# Vue CLI

æœ¬ç« èŠ‚ä»‹ç»å¦‚ä½•å°† [Vue CLI](https://github.com/vuejs/vue-cli) é¡¹ç›®è¿ç§»åˆ° Rsbuildã€‚

## å®‰è£…ä¾èµ–

é¦–å…ˆä½ éœ€è¦æŠŠ Vue CLI çš„ npm ä¾èµ–æ›¿æ¢ä¸º Rsbuild çš„ä¾èµ–ã€‚

import { PackageManagerTabs } from '@theme';

ç§»é™¤ Vue CLI çš„ä¾èµ–ï¼š

<PackageManagerTabs command="remove @vue/cli-service @vue/cli-plugin-babel @vue/cli-plugin-eslint core-js" />

å®‰è£… Rsbuild çš„ä¾èµ–ï¼š

<PackageManagerTabs command="add @rsbuild/core @rsbuild/plugin-vue -D" />

:::tip
å¦‚æœä½ çš„é¡¹ç›®æ˜¯åŸºäº Vue 2 çš„ï¼Œè¯·å°† `@rsbuild/plugin-vue` æ›¿æ¢ä¸º `@rsbuild/plugin-vue2`ã€‚
:::

## æ›´æ–° npm scripts

ä¸‹ä¸€æ­¥ï¼Œä½ éœ€è¦æŠŠ package.json ä¸­çš„ npm scripts æ›´æ–°ä¸º Rsbuild çš„ CLI å‘½ä»¤ã€‚

```diff title="package.json"
{
  "scripts": {
-   "serve": "vue-cli-service serve",
-   "build": "vue-cli-service build",
+   "serve": "rsbuild dev",
+   "build": "rsbuild build",
+   "preview": "rsbuild preview"
  }
}
```

:::tip
Rsbuild æœªé›†æˆ ESLintï¼Œå› æ­¤æ²¡æœ‰æä¾›ç”¨äºæ›¿æ¢ `vue-cli-service lint` çš„å‘½ä»¤ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ ESLint çš„ [CLI å‘½ä»¤](https://eslint.org/docs/latest/use/command-line-interface) ä½œä¸ºæ›¿ä»£ã€‚
:::

## åˆ›å»ºé…ç½®æ–‡ä»¶

åœ¨ package.json çš„åŒçº§ç›®å½•ä¸‹åˆ›å»º Rsbuild çš„é…ç½®æ–‡ä»¶ `rsbuild.config.ts`ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```ts title="rsbuild.config.ts"
import { defineConfig } from '@rsbuild/core';
import { pluginVue } from '@rsbuild/plugin-vue';

export default defineConfig({
  plugins: [pluginVue()],
  source: {
    // æŒ‡å®šå…¥å£æ–‡ä»¶
    entry: {
      index: './src/main.js',
    },
  },
  html: {
    // è®¾ç½® HTML æ ¹èŠ‚ç‚¹çš„ id ä¸º 'app'
    mountId: 'app',
  },
});
```

:::tip
å¦‚æœä½ çš„é¡¹ç›®æ˜¯åŸºäº Vue 2 çš„ï¼Œè¯·ä½¿ç”¨ `import { pluginVue2 } from '@rsbuild/plugin-vue2';`ã€‚
:::

è¿™æ ·å°±å®Œæˆäº†ä» Vue CLI åˆ° Rsbuild çš„åŸºæœ¬è¿ç§»ï¼Œæ­¤æ—¶ä½ å¯ä»¥æ‰§è¡Œ `npm run serve` å‘½ä»¤æ¥å°è¯•å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚

## é…ç½®è¿ç§»

ä»¥ä¸‹æ˜¯ Vue CLI é…ç½®å¯¹åº”çš„ Rsbuild é…ç½®ï¼š

| Vue CLI                                                                                                                                 | Rsbuild                                                                                                                                  |
| --------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------- |
| [publicPath](https://cli.vuejs.org/config/#publicpath)                                                                                  | [dev.assetPrefix](/config/dev/asset-prefix) / [output.assetPrefix](/config/output/asset-prefix)                                          |
| [outputDir](https://cli.vuejs.org/config/#outputdir) / [assetsDir](https://cli.vuejs.org/config/#assetsdir)                             | [output.distPath](/config/output/dist-path)                                                                                              |
| [filenameHashing](https://cli.vuejs.org/config/#filenamehashing)                                                                        | [output.disableFilenameHash](/config/output/disable-filename-hash)                                                                       |
| [pages](https://cli.vuejs.org/config/#pages)                                                                                            | [source.entry](/config/source/entry) / [html.template](/config/html/template) / [html.title](/config/html/title)                         |
| [transpileDependencies](https://cli.vuejs.org/config/#transpiledependencies)                                                            | [source.include](/config/source/include)                                                                                                 |
| [productionSourceMap](https://cli.vuejs.org/config/#productionsourcemap) / [css.sourceMap](https://cli.vuejs.org/config/#css-sourcemap) | [output.sourceMap](/config/output/source-map)                                                                                            |
| [crossorigin](https://cli.vuejs.org/config/#crossorigin)                                                                                | [html.crossorigin](/config/html/crossorigin)                                                                                             |
| [configureWebpack](https://cli.vuejs.org/config/#configurewebpack)                                                                      | [tools.rspack](/config/tools/rspack)                                                                                                     |
| [chainWebpack](https://cli.vuejs.org/config/#chainwebpack)                                                                              | [tools.bundlerChain](/config/tools/bundler-chain)                                                                                        |
| [css.extract](https://cli.vuejs.org/config/#css-extract)                                                                                | [output.disableCssExtract](/config/output/disable-css-extract)                                                                           |
| [css.loaderOptions](https://cli.vuejs.org/config/#css-loaderoptions)                                                                    | [tools.cssLoader](/config/tools/css-loader) / [less](/config/tools/less) / [sass](/config/tools/sass) / [postcss](/config/tools/postcss) |
| [devServer.proxy](https://cli.vuejs.org/config/#devserver-proxy)                                                                        | [server.proxy](/config/server/proxy)                                                                                                     |

è¯´æ˜ï¼š

- åœ¨è¿ç§» configureWebpack æ—¶ï¼Œæ³¨æ„å¤§éƒ¨åˆ† Webpack å’Œ Rspack é…ç½®æ˜¯ç›¸åŒçš„ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›å·®å¼‚æˆ– Rspack æœªå®ç°çš„åŠŸèƒ½ã€‚
- ä¸Šè¿°è¡¨æ ¼å°šæœªè¦†ç›–åˆ° Vue CLI çš„æ‰€æœ‰é…ç½®ï¼Œæ¬¢è¿è¡¥å……ã€‚

## å†…å®¹è¡¥å……

å½“å‰æ–‡æ¡£åªæ¶µç›–äº†è¿ç§»è¿‡ç¨‹çš„éƒ¨åˆ†äº‹é¡¹ï¼Œå¦‚æœä½ å‘ç°æœ‰åˆé€‚çš„å†…å®¹å¯ä»¥è¡¥å……ï¼Œæ¬¢è¿é€šè¿‡ pull request æ¥å®Œå–„æ–‡æ¡£ ğŸ¤ã€‚

> Rsbuild çš„æ–‡æ¡£ä½äº [rsbuild/packages/document](https://github.com/web-infra-dev/rsbuild/tree/main/packages/document) ç›®å½•ã€‚
