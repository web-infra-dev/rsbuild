`onBeforeEnvironmentBuild` 是在执行单个 environment 的生产环境构建前触发的回调函数。

你可以通过 `bundlerConfig` 参数获取到当前 environment 对应的 Rspack 配置(https://rspack.dev/config/)。

另外，你可以通过 `isWatch` 判断是否是 watch 模式，并在 watch 模式下通过 `isFirstCompile` 来判断是否为首次构建。

- **类型：**

```ts
function OnBeforeEnvironmentBuild(
  callback: (params: {
    isWatch: boolean;
    isFirstCompile: boolean;
    bundlerConfig?: RspackConfig | WebpackConfig;
    environment: EnvironmentContext;
  }) => Promise<void> | void,
): void;
```
