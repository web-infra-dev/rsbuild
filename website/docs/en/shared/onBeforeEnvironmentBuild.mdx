`onBeforeEnvironmentBuild` is a callback function that is triggered before the production build is executed of a single environment.

You can access the Rspack configuration array through the `bundlerConfigs` parameter. The array may contain one or more [Rspack configurations](https://rspack.dev/config/). It depends on whether multiple [environments](/config/environments) are configured.

Moreover, you can use `isWatch` to determine whether it is watch mode, and use `isFirstCompile` to determine whether it is the first build on watch mode.

- **Type:**

```ts
function OnBeforeEnvironmentBuild(
  callback: (params: {
    isWatch: boolean;
    isFirstCompile: boolean;
    bundlerConfig?: RspackConfig | WebpackConfig;
    environment: EnvironmentContext;
  }) => Promise<void> | void,
): void;
```
