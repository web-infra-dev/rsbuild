# Output files

This section introduces the output file directory structure and how to control the output directory for different file types.

If you want to know how to deploy the build outputs of Rsbuild as a static site, please refer to [Deploy Static Site](/guide/basic/static-deploy).

## Default directory structure

The following shows the default output directory structure. Compiled files are written to the `dist` directory of the current project.

```bash
dist
├── static
│   ├── css
│   │   ├── [name].[hash].css
│   │   └── [name].[hash].css.map
│   │
│   └── js
│       ├── [name].[hash].js
│       ├── [name].[hash].js.LICENSE.txt
│       └── [name].[hash].js.map
│
└── [name].html
```

The most common output files are HTML, JS, and CSS files:

- HTML files: written to the root of the dist directory by default.
- JS files: written to the `static/js` directory by default.
- CSS files: written to the `static/css` directory by default.

JS and CSS files may also generate related files:

- License files: contain open source licenses, written to the same directory as the JS file with a `.LICENSE.txt` suffix.
- Source map files: contain source code mappings, written to the same directory as JS and CSS files with a `.map` suffix.

In the filename, `[name]` represents the entry name for this file, such as `index` or `main`. `[hash]` is the hash value generated based on the file content.

## Development mode output

In development mode, Rsbuild stores build outputs in memory on the dev server by default, rather than writing them to disk. This reduces filesystem operation overhead. Refer to [View Static Assets](/guide/basic/server#view-static-assets) to view all static assets generated in the current build.

To write output files to disk (typically used for inspecting build artifacts or configuring proxy rules for static assets), set the [dev.writeToDisk](/config/dev/write-to-disk) configuration to `true`:

```ts
export default {
  dev: {
    writeToDisk: true,
  },
};
```

## Modify the output directory

Rsbuild provides several configuration options to modify the directory or filename:

- Use [output.filename](/config/output/filename) to modify the filename.
- Use [output.distPath](/config/output/dist-path) to modify the output path.
- Use [output.legalComments](/config/output/legal-comments) to modify the license file output.
- Use [output.sourceMap](/config/output/source-map) to modify source map output.
- Use [html.outputStructure](/config/html/output-structure) to modify the output structure of HTML files.

## Static assets

When importing static assets such as images, SVG, fonts, media, etc., in your code, they are written to the `dist/static` directory and automatically organized into subdirectories by file type:

```bash
dist
└── static
    ├── image
    │   └── foo.[hash].png
    │
    ├── svg
    │   └── bar.[hash].svg
    │
    ├── font
    │   └── baz.[hash].woff2
    │
    └── media
        └── qux.[hash].mp4
```

Use the [output.distPath](/config/output/dist-path) config to write these static assets to a single directory, for example, to the `assets` directory:

```ts
export default {
  output: {
    distPath: {
      image: 'assets',
      svg: 'assets',
      font: 'assets',
      media: 'assets',
    },
  },
};
```

This configuration generates the following directory structure:

```bash
dist
└── assets
    ├── foo.[hash].png
    ├── bar.[hash].svg
    ├── baz.[hash].woff2
    └── qux.[hash].mp4
```

## Node.js output directory

When the [output.target](/config/output/target) of Rsbuild is `'node'`, Rsbuild will generate output files for Node.js:

```bash
dist
├── static
└── [name].js
```

Node.js outputs typically contain only JS files, without HTML or CSS. The JS file names do not include hash values.

Modify the output path of Node.js files using the [environments](/config/environments) config.

For example, to write Node.js files to the `server` directory:

```ts
export default {
  environments: {
    web: {
      output: {
        target: 'web',
      },
    },
    node: {
      output: {
        target: 'node',
        distPath: {
          root: 'dist/server',
        },
      },
    },
  },
};
```

## Flatten the directory

For a flatter directory structure in the dist directory, set the directory to an empty string to flatten the generated directory.

Here's an example:

```ts
export default {
  output: {
    distPath: {
      js: '',
      css: '',
    },
  },
};
```

This configuration will generate the following directory structure:

```bash
dist
├── [name].[hash].css
├── [name].[hash].css.map
├── [name].[hash].js
├── [name].[hash].js.map
└── [name].html
```
