# Improve build performance

Rsbuild optimizes build performance by default, but as projects become larger, you may encounter build performance issues.

This document provides optional optimization methods to improve build performance.

## Performance profiling

Performing performance analysis can help identify performance bottlenecks in your project, enabling targeted optimization.

Please refer to the [Build Performance Analysis](/guide/debug/build-profiling) section for more information.

## General optimization

These general optimization methods can speed up both development and production builds.

### Upgrade Rsbuild

Upgrading to the latest version of Rsbuild provides the latest performance optimizations. See [Upgrade Rsbuild](/guide/basic/upgrade-rsbuild) for more details.

### Enable persistent cache

Rsbuild provides [performance.buildCache](/config/performance/build-cache) configuration, which significantly improves rebuild speed.

### Reducing modules

Optimizing the number of modules referenced by the application reduces bundle size and improves build performance. Read the [Bundle Size Optimization](/guide/optimization/optimize-bundle) section to learn optimization methods.

### Optimize Tailwind CSS

When using Tailwind CSS v3, if the `content` field in `tailwind.config.js` is not correctly configured, this can lead to poor build performance and HMR performance.

Refer to [Tailwind CSS v3 - Optimize build performance](/guide/styling/tailwindcss-v3#optimize-build-performance) for more details.

### Parallel Less compilation

If your project uses the [@rsbuild/plugin-less](/plugins/list/plugin-less) plugin and contains a large number of Less files, you can try enabling parallel compilation to improve build performance.

Refer to [Less Plugin - parallel](/plugins/list/plugin-less#parallel) for more details.

### Tool selection

While Rsbuild delivers excellent build performance out of the box, certain JavaScript-based tools can negatively impact overall build performance, particularly in large-scale projects.

- [@rsbuild/plugin-babel](/plugins/list/plugin-babel): This plugin is based on Babel. We recommend using the more performant [SWC](/guide/configuration/swc) for code transformation instead.
- [@rsbuild/plugin-less](/plugins/list/plugin-less): The Less compiler has relatively poor performance. Consider using [@rsbuild/plugin-sass](/plugins/list/plugin-sass) or other high-performance CSS solutions as alternatives.
- [terser-webpack-plugin](https://www.npmjs.com/package/terser-webpack-plugin): You can replace Terser with faster minimizers, such as Rsbuild's built-in [SWC](/guide/configuration/swc) minifier.

## Development optimization

These methods improve performance specifically in development mode.

### Enable lazy compilation

Enabling lazy compilation can significantly reduce the number of modules compiled at dev startup and improve startup time.

```ts title="rsbuild.config.ts"
export default {
  dev: {
    lazyCompilation: true,
  },
};
```

> Refer to [dev.lazyCompilation](/config/dev/lazy-compilation) for more information.

### Enable native watcher

Enabling Rspack's [native watcher](https://rspack.rs/config/experiments#experimentsnativewatcher) can improve HMR performance in development mode.

```ts title="rsbuild.config.ts"
export default {
  tools: {
    rspack: {
      experiments: {
        nativeWatcher: true,
      },
    },
  },
};
```

### Source map format

In order to provide a good debugging experience, Rsbuild uses the `cheap-module-source-map` format source map by default in development mode, which is a high-quality source map format and will bring certain performance overhead.

You can improve build speed by adjusting the source map format in development mode through [output.sourceMap](/config/output/source-map).

For example to disable source map:

```ts title="rsbuild.config.ts"
export default {
  output: {
    sourceMap: {
      js: false,
    },
  },
};
```

Or set the source map format of the development mode to the cheapest `eval` format:

```ts title="rsbuild.config.ts"
export default {
  output: {
    sourceMap: {
      js: process.env.NODE_ENV === 'development' ? 'eval' : false,
    },
  },
};
```

> For detailed differences between different source map formats, see [Rspack - devtool](https://rspack.rs/config/devtool).

### Browserslist for development

This strategy is similar to ["Adjust Browserslist"](/guide/optimization/optimize-bundle#adjust-browserslist), the difference is that we can set different browserslist for development and production mode, thereby reducing the compilation overhead in development mode.

For example, you can add the following config to `.browserslistrc`, which means that only the latest browsers are compatible in development mode, and the actual browsers are compatible in the production mode:

```yaml title=".browserslistrc"
[production]
chrome >= 87
edge >= 88
firefox >= 78
safari >= 14

[development]
last 1 chrome version
last 1 firefox version
last 1 safari version
```

Note that this can lead to some differences in the build result between development and production modes.
